{"version":3,"file":"script.min.js","sources":["utils/url.mjs","lib/marked.js","parseMarkdown.mjs","lib/textFit.js","gameLogic.mjs","utils/arrays.mjs","lib/codejar.js","editor.mjs","defaultContent.mjs","createMemoryFromMarkdown.mjs","main.mjs"],"sourcesContent":["export function handleURL(url, options) {\n\tconst corsProxy = \"https://corsproxy.io/?url=\";\n\tif (url !== \"\") {\n\t\tlet addCorsProxy = options && options.useCorsProxy ? true : false;\n\t\t// Gestion des fichiers hébergés sur la forge et publiés sur une page web\n\t\tif (url.includes(\".forge\")) {\n\t\t\taddCorsProxy = false;\n\t\t}\n\t\t// Gestion des fichiers hébergés sur github\n\t\tif (url.startsWith(\"https://github.com\")) {\n\t\t\taddCorsProxy = false;\n\t\t\turl = url.replace(\n\t\t\t\t\"https://github.com\",\n\t\t\t\t\"https://raw.githubusercontent.com\"\n\t\t\t);\n\t\t\turl = url.replace(\"/blob/\", \"/\");\n\t\t}\n\t\t// gestion des fichiers hébergés sur codiMD / hedgedoc / digipage\n\t\tif (\n\t\t\turl.startsWith(\"https://codimd\") ||\n\t\t\turl.startsWith(\"https://pad.numerique.gouv.fr/\") ||\n\t\t\turl.includes(\"hedgedoc\") ||\n\t\t\turl.includes(\"digipage\")\n\t\t) {\n\t\t\taddCorsProxy = false;\n\t\t\turl = url\n\t\t\t\t.replace(\"?edit\", \"\")\n\t\t\t\t.replace(\"?both\", \"\")\n\t\t\t\t.replace(\"?view\", \"\")\n\t\t\t\t.replace(/#$/, \"\")\n\t\t\t\t.replace(/\\/$/, \"\");\n\t\t\turl = url.indexOf(\"download\") === -1 ? url + \"/download\" : url;\n\t\t}\n\t\t// gestion des fichiers hébergés sur framapad ou digidoc\n\t\tif (\n\t\t\t(url.includes(\"framapad\") || url.includes(\"digidoc\")) &&\n\t\t\t!url.endsWith(\"/export/txt\")\n\t\t) {\n\t\t\taddCorsProxy = false;\n\t\t\turl = url.replace(/\\?.*/, \"\") + \"/export/txt\";\n\t\t}\n\t\turl = addCorsProxy ? corsProxy + url : url;\n\t}\n\treturn url;\n}\n\nexport function getMarkdownFromURL(url) {\n\treturn fetch(url)\n\t\t.then((response) => {\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(\"Network response was not ok\");\n\t\t\t}\n\t\t\treturn response.text();\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\n\t\t\t\t\"There has been a problem with your fetch operation:\",\n\t\t\t\terror\n\t\t\t);\n\t\t\treturn \"\";\n\t\t});\n}\n\nexport function getURLfromHash() {\n\tconst hash = window.location.hash.substring(1);\n\treturn handleURL(hash) || \"\";\n}\n\nexport function redirectToUrl(input, baseURL = window.location.origin) {\n\tconst hash = input.value.trim();\n\tbaseURL = input.getAttribute(\"data-base-url\")\n\t\t? \"https://\" + input.getAttribute(\"data-base-url\")\n\t\t: baseURL;\n\tif (hash) {\n\t\tconst fullUrl = baseURL + `#${hash}`;\n\t\twindow.open(fullUrl, \"_blank\");\n\t} else {\n\t\talert(\"Veuillez entrer une URL valide.\");\n\t}\n}\n","/**\n * marked v16.3.0 - a markdown parser\n * Copyright (c) 2011-2025, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\nfunction L() {\n\treturn {\n\t\tasync: !1,\n\t\tbreaks: !1,\n\t\textensions: null,\n\t\tgfm: !0,\n\t\thooks: null,\n\t\tpedantic: !1,\n\t\trenderer: null,\n\t\tsilent: !1,\n\t\ttokenizer: null,\n\t\twalkTokens: null,\n\t};\n}\nvar O = L();\nfunction G(l) {\n\tO = l;\n}\nvar E = { exec: () => null };\nfunction h(l, e = \"\") {\n\tlet t = typeof l == \"string\" ? l : l.source,\n\t\tn = {\n\t\t\treplace: (r, i) => {\n\t\t\t\tlet s = typeof i == \"string\" ? i : i.source;\n\t\t\t\treturn (s = s.replace(m.caret, \"$1\")), (t = t.replace(r, s)), n;\n\t\t\t},\n\t\t\tgetRegex: () => new RegExp(t, e),\n\t\t};\n\treturn n;\n}\nvar m = {\n\t\tcodeRemoveIndent: /^(?: {1,4}| {0,3}\\t)/gm,\n\t\toutputLinkReplace: /\\\\([\\[\\]])/g,\n\t\tindentCodeCompensation: /^(\\s+)(?:```)/,\n\t\tbeginningSpace: /^\\s+/,\n\t\tendingHash: /#$/,\n\t\tstartingSpaceChar: /^ /,\n\t\tendingSpaceChar: / $/,\n\t\tnonSpaceChar: /[^ ]/,\n\t\tnewLineCharGlobal: /\\n/g,\n\t\ttabCharGlobal: /\\t/g,\n\t\tmultipleSpaceGlobal: /\\s+/g,\n\t\tblankLine: /^[ \\t]*$/,\n\t\tdoubleBlankLine: /\\n[ \\t]*\\n[ \\t]*$/,\n\t\tblockquoteStart: /^ {0,3}>/,\n\t\tblockquoteSetextReplace: /\\n {0,3}((?:=+|-+) *)(?=\\n|$)/g,\n\t\tblockquoteSetextReplace2: /^ {0,3}>[ \\t]?/gm,\n\t\tlistReplaceTabs: /^\\t+/,\n\t\tlistReplaceNesting: /^ {1,4}(?=( {4})*[^ ])/g,\n\t\tlistIsTask: /^\\[[ xX]\\] /,\n\t\tlistReplaceTask: /^\\[[ xX]\\] +/,\n\t\tanyLine: /\\n.*\\n/,\n\t\threfBrackets: /^<(.*)>$/,\n\t\ttableDelimiter: /[:|]/,\n\t\ttableAlignChars: /^\\||\\| *$/g,\n\t\ttableRowBlankLine: /\\n[ \\t]*$/,\n\t\ttableAlignRight: /^ *-+: *$/,\n\t\ttableAlignCenter: /^ *:-+: *$/,\n\t\ttableAlignLeft: /^ *:-+ *$/,\n\t\tstartATag: /^<a /i,\n\t\tendATag: /^<\\/a>/i,\n\t\tstartPreScriptTag: /^<(pre|code|kbd|script)(\\s|>)/i,\n\t\tendPreScriptTag: /^<\\/(pre|code|kbd|script)(\\s|>)/i,\n\t\tstartAngleBracket: /^</,\n\t\tendAngleBracket: />$/,\n\t\tpedanticHrefTitle: /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/,\n\t\tunicodeAlphaNumeric: /[\\p{L}\\p{N}]/u,\n\t\tescapeTest: /[&<>\"']/,\n\t\tescapeReplace: /[&<>\"']/g,\n\t\tescapeTestNoEncode: /[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/,\n\t\tescapeReplaceNoEncode: /[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/g,\n\t\tunescapeTest: /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/gi,\n\t\tcaret: /(^|[^\\[])\\^/g,\n\t\tpercentDecode: /%25/g,\n\t\tfindPipe: /\\|/g,\n\t\tsplitPipe: / \\|/,\n\t\tslashPipe: /\\\\\\|/g,\n\t\tcarriageReturn: /\\r\\n|\\r/g,\n\t\tspaceLine: /^ +$/gm,\n\t\tnotSpaceStart: /^\\S*/,\n\t\tendingNewline: /\\n$/,\n\t\tlistItemRegex: (l) => new RegExp(`^( {0,3}${l})((?:[\t ][^\\\\n]*)?(?:\\\\n|$))`),\n\t\tnextBulletRegex: (l) =>\n\t\t\tnew RegExp(\n\t\t\t\t`^ {0,${Math.min(3, l - 1)}}(?:[*+-]|\\\\d{1,9}[.)])((?:[ \t][^\\\\n]*)?(?:\\\\n|$))`\n\t\t\t),\n\t\thrRegex: (l) =>\n\t\t\tnew RegExp(\n\t\t\t\t`^ {0,${Math.min(3, l - 1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)`\n\t\t\t),\n\t\tfencesBeginRegex: (l) =>\n\t\t\tnew RegExp(`^ {0,${Math.min(3, l - 1)}}(?:\\`\\`\\`|~~~)`),\n\t\theadingBeginRegex: (l) => new RegExp(`^ {0,${Math.min(3, l - 1)}}#`),\n\t\thtmlBeginRegex: (l) =>\n\t\t\tnew RegExp(`^ {0,${Math.min(3, l - 1)}}<(?:[a-z].*>|!--)`, \"i\"),\n\t},\n\txe = /^(?:[ \\t]*(?:\\n|$))+/,\n\tbe = /^((?: {4}| {0,3}\\t)[^\\n]+(?:\\n(?:[ \\t]*(?:\\n|$))*)?)+/,\n\tRe =\n\t\t/^ {0,3}(`{3,}(?=[^`\\n]*(?:\\n|$))|~{3,})([^\\n]*)(?:\\n|$)(?:|([\\s\\S]*?)(?:\\n|$))(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,\n\tC = /^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,\n\tOe = /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n\tj = /(?:[*+-]|\\d{1,9}[.)])/,\n\tse =\n\t\t/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\\n(?!\\s*?\\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n\tie = h(se)\n\t\t.replace(/bull/g, j)\n\t\t.replace(/blockCode/g, /(?: {4}| {0,3}\\t)/)\n\t\t.replace(/fences/g, / {0,3}(?:`{3,}|~{3,})/)\n\t\t.replace(/blockquote/g, / {0,3}>/)\n\t\t.replace(/heading/g, / {0,3}#{1,6}/)\n\t\t.replace(/html/g, / {0,3}<[^\\n>]+>\\n/)\n\t\t.replace(/\\|table/g, \"\")\n\t\t.getRegex(),\n\tTe = h(se)\n\t\t.replace(/bull/g, j)\n\t\t.replace(/blockCode/g, /(?: {4}| {0,3}\\t)/)\n\t\t.replace(/fences/g, / {0,3}(?:`{3,}|~{3,})/)\n\t\t.replace(/blockquote/g, / {0,3}>/)\n\t\t.replace(/heading/g, / {0,3}#{1,6}/)\n\t\t.replace(/html/g, / {0,3}<[^\\n>]+>\\n/)\n\t\t.replace(/table/g, / {0,3}\\|?(?:[:\\- ]*\\|)+[\\:\\- ]*\\n/)\n\t\t.getRegex(),\n\tF =\n\t\t/^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,\n\twe = /^[^\\n]+/,\n\tQ = /(?!\\s*\\])(?:\\\\[\\s\\S]|[^\\[\\]\\\\])+/,\n\tye = h(\n\t\t/^ {0,3}\\[(label)\\]: *(?:\\n[ \\t]*)?([^<\\s][^\\s]*|<.*?>)(?:(?: +(?:\\n[ \\t]*)?| *\\n[ \\t]*)(title))? *(?:\\n+|$)/\n\t)\n\t\t.replace(\"label\", Q)\n\t\t.replace(\n\t\t\t\"title\",\n\t\t\t/(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/\n\t\t)\n\t\t.getRegex(),\n\tPe = h(/^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/)\n\t\t.replace(/bull/g, j)\n\t\t.getRegex(),\n\tv =\n\t\t\"address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul\",\n\tU = /<!--(?:-?>|[\\s\\S]*?(?:-->|$))/,\n\tSe = h(\n\t\t\"^ {0,3}(?:<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)|comment[^\\\\n]*(\\\\n+|$)|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$)|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$)|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$))\",\n\t\t\"i\"\n\t)\n\t\t.replace(\"comment\", U)\n\t\t.replace(\"tag\", v)\n\t\t.replace(\n\t\t\t\"attribute\",\n\t\t\t/ +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/\n\t\t)\n\t\t.getRegex(),\n\toe = h(F)\n\t\t.replace(\"hr\", C)\n\t\t.replace(\"heading\", \" {0,3}#{1,6}(?:\\\\s|$)\")\n\t\t.replace(\"|lheading\", \"\")\n\t\t.replace(\"|table\", \"\")\n\t\t.replace(\"blockquote\", \" {0,3}>\")\n\t\t.replace(\"fences\", \" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\")\n\t\t.replace(\"list\", \" {0,3}(?:[*+-]|1[.)]) \")\n\t\t.replace(\n\t\t\t\"html\",\n\t\t\t\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\"\n\t\t)\n\t\t.replace(\"tag\", v)\n\t\t.getRegex(),\n\t$e = h(/^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/)\n\t\t.replace(\"paragraph\", oe)\n\t\t.getRegex(),\n\tK = {\n\t\tblockquote: $e,\n\t\tcode: be,\n\t\tdef: ye,\n\t\tfences: Re,\n\t\theading: Oe,\n\t\thr: C,\n\t\thtml: Se,\n\t\tlheading: ie,\n\t\tlist: Pe,\n\t\tnewline: xe,\n\t\tparagraph: oe,\n\t\ttable: E,\n\t\ttext: we,\n\t},\n\tre = h(\n\t\t\"^ *([^\\\\n ].*)\\\\n {0,3}((?:\\\\| *)?:?-+:? *(?:\\\\| *:?-+:? *)*(?:\\\\| *)?)(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)\"\n\t)\n\t\t.replace(\"hr\", C)\n\t\t.replace(\"heading\", \" {0,3}#{1,6}(?:\\\\s|$)\")\n\t\t.replace(\"blockquote\", \" {0,3}>\")\n\t\t.replace(\"code\", \"(?: {4}| {0,3}\t)[^\\\\n]\")\n\t\t.replace(\"fences\", \" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\")\n\t\t.replace(\"list\", \" {0,3}(?:[*+-]|1[.)]) \")\n\t\t.replace(\n\t\t\t\"html\",\n\t\t\t\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\"\n\t\t)\n\t\t.replace(\"tag\", v)\n\t\t.getRegex(),\n\t_e = {\n\t\t...K,\n\t\tlheading: Te,\n\t\ttable: re,\n\t\tparagraph: h(F)\n\t\t\t.replace(\"hr\", C)\n\t\t\t.replace(\"heading\", \" {0,3}#{1,6}(?:\\\\s|$)\")\n\t\t\t.replace(\"|lheading\", \"\")\n\t\t\t.replace(\"table\", re)\n\t\t\t.replace(\"blockquote\", \" {0,3}>\")\n\t\t\t.replace(\"fences\", \" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\")\n\t\t\t.replace(\"list\", \" {0,3}(?:[*+-]|1[.)]) \")\n\t\t\t.replace(\n\t\t\t\t\"html\",\n\t\t\t\t\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\"\n\t\t\t)\n\t\t\t.replace(\"tag\", v)\n\t\t\t.getRegex(),\n\t},\n\tLe = {\n\t\t...K,\n\t\thtml: h(\n\t\t\t`^ *(?:comment *(?:\\\\n|\\\\s*$)|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\\\s[^'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))`\n\t\t)\n\t\t\t.replace(\"comment\", U)\n\t\t\t.replace(\n\t\t\t\t/tag/g,\n\t\t\t\t\"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b\"\n\t\t\t)\n\t\t\t.getRegex(),\n\t\tdef: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n\t\theading: /^(#{1,6})(.*)(?:\\n+|$)/,\n\t\tfences: E,\n\t\tlheading: /^(.+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n\t\tparagraph: h(F)\n\t\t\t.replace(\"hr\", C)\n\t\t\t.replace(\n\t\t\t\t\"heading\",\n\t\t\t\t` *#{1,6} *[^\n]`\n\t\t\t)\n\t\t\t.replace(\"lheading\", ie)\n\t\t\t.replace(\"|table\", \"\")\n\t\t\t.replace(\"blockquote\", \" {0,3}>\")\n\t\t\t.replace(\"|fences\", \"\")\n\t\t\t.replace(\"|list\", \"\")\n\t\t\t.replace(\"|html\", \"\")\n\t\t\t.replace(\"|tag\", \"\")\n\t\t\t.getRegex(),\n\t},\n\tMe = /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n\tze = /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n\tae = /^( {2,}|\\\\)\\n(?!\\s*$)/,\n\tAe =\n\t\t/^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n\tD = /[\\p{P}\\p{S}]/u,\n\tW = /[\\s\\p{P}\\p{S}]/u,\n\tle = /[^\\s\\p{P}\\p{S}]/u,\n\tEe = h(/^((?![*_])punctSpace)/, \"u\")\n\t\t.replace(/punctSpace/g, W)\n\t\t.getRegex(),\n\tue = /(?!~)[\\p{P}\\p{S}]/u,\n\tCe = /(?!~)[\\s\\p{P}\\p{S}]/u,\n\tIe = /(?:[^\\s\\p{P}\\p{S}]|~)/u,\n\tBe =\n\t\t/\\[[^\\[\\]]*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)|`[^`]*?`|<(?! )[^<>]*?>/g,\n\tpe = /^(?:\\*+(?:((?!\\*)punct)|[^\\s*]))|^_+(?:((?!_)punct)|([^\\s_]))/,\n\tqe = h(pe, \"u\").replace(/punct/g, D).getRegex(),\n\tve = h(pe, \"u\").replace(/punct/g, ue).getRegex(),\n\tce =\n\t\t\"^[^_*]*?__[^_*]*?\\\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\\\*)punct(\\\\*+)(?=[\\\\s]|$)|notPunctSpace(\\\\*+)(?!\\\\*)(?=punctSpace|$)|(?!\\\\*)punctSpace(\\\\*+)(?=notPunctSpace)|[\\\\s](\\\\*+)(?!\\\\*)(?=punct)|(?!\\\\*)punct(\\\\*+)(?!\\\\*)(?=punct)|notPunctSpace(\\\\*+)(?=notPunctSpace)\",\n\tDe = h(ce, \"gu\")\n\t\t.replace(/notPunctSpace/g, le)\n\t\t.replace(/punctSpace/g, W)\n\t\t.replace(/punct/g, D)\n\t\t.getRegex(),\n\tHe = h(ce, \"gu\")\n\t\t.replace(/notPunctSpace/g, Ie)\n\t\t.replace(/punctSpace/g, Ce)\n\t\t.replace(/punct/g, ue)\n\t\t.getRegex(),\n\tZe = h(\n\t\t\"^[^_*]*?\\\\*\\\\*[^_*]*?_[^_*]*?(?=\\\\*\\\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)\",\n\t\t\"gu\"\n\t)\n\t\t.replace(/notPunctSpace/g, le)\n\t\t.replace(/punctSpace/g, W)\n\t\t.replace(/punct/g, D)\n\t\t.getRegex(),\n\tGe = h(/\\\\(punct)/, \"gu\")\n\t\t.replace(/punct/g, D)\n\t\t.getRegex(),\n\tNe = h(/^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/)\n\t\t.replace(\"scheme\", /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/)\n\t\t.replace(\n\t\t\t\"email\",\n\t\t\t/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/\n\t\t)\n\t\t.getRegex(),\n\tje = h(U).replace(\"(?:-->|$)\", \"-->\").getRegex(),\n\tFe = h(\n\t\t\"^comment|^</[a-zA-Z][\\\\w:-]*\\\\s*>|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>|^<\\\\?[\\\\s\\\\S]*?\\\\?>|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\"\n\t)\n\t\t.replace(\"comment\", je)\n\t\t.replace(\n\t\t\t\"attribute\",\n\t\t\t/\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/\n\t\t)\n\t\t.getRegex(),\n\tq = /(?:\\[(?:\\\\[\\s\\S]|[^\\[\\]\\\\])*\\]|\\\\[\\s\\S]|`[^`]*`|[^\\[\\]\\\\`])*?/,\n\tQe = h(/^!?\\[(label)\\]\\(\\s*(href)(?:(?:[ \\t]*(?:\\n[ \\t]*)?)(title))?\\s*\\)/)\n\t\t.replace(\"label\", q)\n\t\t.replace(\"href\", /<(?:\\\\.|[^\\n<>\\\\])+>|[^ \\t\\n\\x00-\\x1f]*/)\n\t\t.replace(\n\t\t\t\"title\",\n\t\t\t/\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/\n\t\t)\n\t\t.getRegex(),\n\the = h(/^!?\\[(label)\\]\\[(ref)\\]/)\n\t\t.replace(\"label\", q)\n\t\t.replace(\"ref\", Q)\n\t\t.getRegex(),\n\tde = h(/^!?\\[(ref)\\](?:\\[\\])?/)\n\t\t.replace(\"ref\", Q)\n\t\t.getRegex(),\n\tUe = h(\"reflink|nolink(?!\\\\()\", \"g\")\n\t\t.replace(\"reflink\", he)\n\t\t.replace(\"nolink\", de)\n\t\t.getRegex(),\n\tX = {\n\t\t_backpedal: E,\n\t\tanyPunctuation: Ge,\n\t\tautolink: Ne,\n\t\tblockSkip: Be,\n\t\tbr: ae,\n\t\tcode: ze,\n\t\tdel: E,\n\t\temStrongLDelim: qe,\n\t\temStrongRDelimAst: De,\n\t\temStrongRDelimUnd: Ze,\n\t\tescape: Me,\n\t\tlink: Qe,\n\t\tnolink: de,\n\t\tpunctuation: Ee,\n\t\treflink: he,\n\t\treflinkSearch: Ue,\n\t\ttag: Fe,\n\t\ttext: Ae,\n\t\turl: E,\n\t},\n\tKe = {\n\t\t...X,\n\t\tlink: h(/^!?\\[(label)\\]\\((.*?)\\)/)\n\t\t\t.replace(\"label\", q)\n\t\t\t.getRegex(),\n\t\treflink: h(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n\t\t\t.replace(\"label\", q)\n\t\t\t.getRegex(),\n\t},\n\tN = {\n\t\t...X,\n\t\temStrongRDelimAst: He,\n\t\temStrongLDelim: ve,\n\t\turl: h(\n\t\t\t/^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n\t\t\t\"i\"\n\t\t)\n\t\t\t.replace(\n\t\t\t\t\"email\",\n\t\t\t\t/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/\n\t\t\t)\n\t\t\t.getRegex(),\n\t\t_backpedal:\n\t\t\t/(?:[^?!.,:;*_'\"~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'\"~)]+(?!$))+/,\n\t\tdel: /^(~~?)(?=[^\\s~])((?:\\\\[\\s\\S]|[^\\\\])*?(?:\\\\[\\s\\S]|[^\\s~\\\\]))\\1(?=[^~]|$)/,\n\t\ttext: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/,\n\t},\n\tWe = {\n\t\t...N,\n\t\tbr: h(ae).replace(\"{2,}\", \"*\").getRegex(),\n\t\ttext: h(N.text)\n\t\t\t.replace(\"\\\\b_\", \"\\\\b_| {2,}\\\\n\")\n\t\t\t.replace(/\\{2,\\}/g, \"*\")\n\t\t\t.getRegex(),\n\t},\n\tI = { normal: K, gfm: _e, pedantic: Le },\n\tM = { normal: X, gfm: N, breaks: We, pedantic: Ke };\nvar Xe = {\n\t\t\"&\": \"&amp;\",\n\t\t\"<\": \"&lt;\",\n\t\t\">\": \"&gt;\",\n\t\t'\"': \"&quot;\",\n\t\t\"'\": \"&#39;\",\n\t},\n\tke = (l) => Xe[l];\nfunction w(l, e) {\n\tif (e) {\n\t\tif (m.escapeTest.test(l)) return l.replace(m.escapeReplace, ke);\n\t} else if (m.escapeTestNoEncode.test(l))\n\t\treturn l.replace(m.escapeReplaceNoEncode, ke);\n\treturn l;\n}\nfunction J(l) {\n\ttry {\n\t\tl = encodeURI(l).replace(m.percentDecode, \"%\");\n\t} catch {\n\t\treturn null;\n\t}\n\treturn l;\n}\nfunction V(l, e) {\n\tlet t = l.replace(m.findPipe, (i, s, o) => {\n\t\t\tlet a = !1,\n\t\t\t\tu = s;\n\t\t\tfor (; --u >= 0 && o[u] === \"\\\\\"; ) a = !a;\n\t\t\treturn a ? \"|\" : \" |\";\n\t\t}),\n\t\tn = t.split(m.splitPipe),\n\t\tr = 0;\n\tif (\n\t\t(n[0].trim() || n.shift(), n.length > 0 && !n.at(-1)?.trim() && n.pop(), e)\n\t)\n\t\tif (n.length > e) n.splice(e);\n\t\telse for (; n.length < e; ) n.push(\"\");\n\tfor (; r < n.length; r++) n[r] = n[r].trim().replace(m.slashPipe, \"|\");\n\treturn n;\n}\nfunction z(l, e, t) {\n\tlet n = l.length;\n\tif (n === 0) return \"\";\n\tlet r = 0;\n\tfor (; r < n; ) {\n\t\tlet i = l.charAt(n - r - 1);\n\t\tif (i === e && !t) r++;\n\t\telse if (i !== e && t) r++;\n\t\telse break;\n\t}\n\treturn l.slice(0, n - r);\n}\nfunction ge(l, e) {\n\tif (l.indexOf(e[1]) === -1) return -1;\n\tlet t = 0;\n\tfor (let n = 0; n < l.length; n++)\n\t\tif (l[n] === \"\\\\\") n++;\n\t\telse if (l[n] === e[0]) t++;\n\t\telse if (l[n] === e[1] && (t--, t < 0)) return n;\n\treturn t > 0 ? -2 : -1;\n}\nfunction fe(l, e, t, n, r) {\n\tlet i = e.href,\n\t\ts = e.title || null,\n\t\to = l[1].replace(r.other.outputLinkReplace, \"$1\");\n\tn.state.inLink = !0;\n\tlet a = {\n\t\ttype: l[0].charAt(0) === \"!\" ? \"image\" : \"link\",\n\t\traw: t,\n\t\thref: i,\n\t\ttitle: s,\n\t\ttext: o,\n\t\ttokens: n.inlineTokens(o),\n\t};\n\treturn (n.state.inLink = !1), a;\n}\nfunction Je(l, e, t) {\n\tlet n = l.match(t.other.indentCodeCompensation);\n\tif (n === null) return e;\n\tlet r = n[1];\n\treturn e\n\t\t.split(\n\t\t\t`\n`\n\t\t)\n\t\t.map((i) => {\n\t\t\tlet s = i.match(t.other.beginningSpace);\n\t\t\tif (s === null) return i;\n\t\t\tlet [o] = s;\n\t\t\treturn o.length >= r.length ? i.slice(r.length) : i;\n\t\t}).join(`\n`);\n}\nvar y = class {\n\toptions;\n\trules;\n\tlexer;\n\tconstructor(e) {\n\t\tthis.options = e || O;\n\t}\n\tspace(e) {\n\t\tlet t = this.rules.block.newline.exec(e);\n\t\tif (t && t[0].length > 0) return { type: \"space\", raw: t[0] };\n\t}\n\tcode(e) {\n\t\tlet t = this.rules.block.code.exec(e);\n\t\tif (t) {\n\t\t\tlet n = t[0].replace(this.rules.other.codeRemoveIndent, \"\");\n\t\t\treturn {\n\t\t\t\ttype: \"code\",\n\t\t\t\traw: t[0],\n\t\t\t\tcodeBlockStyle: \"indented\",\n\t\t\t\ttext: this.options.pedantic\n\t\t\t\t\t? n\n\t\t\t\t\t: z(\n\t\t\t\t\t\t\tn,\n\t\t\t\t\t\t\t`\n`\n\t\t\t\t\t\t),\n\t\t\t};\n\t\t}\n\t}\n\tfences(e) {\n\t\tlet t = this.rules.block.fences.exec(e);\n\t\tif (t) {\n\t\t\tlet n = t[0],\n\t\t\t\tr = Je(n, t[3] || \"\", this.rules);\n\t\t\treturn {\n\t\t\t\ttype: \"code\",\n\t\t\t\traw: n,\n\t\t\t\tlang: t[2]\n\t\t\t\t\t? t[2].trim().replace(this.rules.inline.anyPunctuation, \"$1\")\n\t\t\t\t\t: t[2],\n\t\t\t\ttext: r,\n\t\t\t};\n\t\t}\n\t}\n\theading(e) {\n\t\tlet t = this.rules.block.heading.exec(e);\n\t\tif (t) {\n\t\t\tlet n = t[2].trim();\n\t\t\tif (this.rules.other.endingHash.test(n)) {\n\t\t\t\tlet r = z(n, \"#\");\n\t\t\t\t(this.options.pedantic ||\n\t\t\t\t\t!r ||\n\t\t\t\t\tthis.rules.other.endingSpaceChar.test(r)) &&\n\t\t\t\t\t(n = r.trim());\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttype: \"heading\",\n\t\t\t\traw: t[0],\n\t\t\t\tdepth: t[1].length,\n\t\t\t\ttext: n,\n\t\t\t\ttokens: this.lexer.inline(n),\n\t\t\t};\n\t\t}\n\t}\n\thr(e) {\n\t\tlet t = this.rules.block.hr.exec(e);\n\t\tif (t)\n\t\t\treturn {\n\t\t\t\ttype: \"hr\",\n\t\t\t\traw: z(\n\t\t\t\t\tt[0],\n\t\t\t\t\t`\n`\n\t\t\t\t),\n\t\t\t};\n\t}\n\tblockquote(e) {\n\t\tlet t = this.rules.block.blockquote.exec(e);\n\t\tif (t) {\n\t\t\tlet n = z(\n\t\t\t\t\tt[0],\n\t\t\t\t\t`\n`\n\t\t\t\t).split(`\n`),\n\t\t\t\tr = \"\",\n\t\t\t\ti = \"\",\n\t\t\t\ts = [];\n\t\t\tfor (; n.length > 0; ) {\n\t\t\t\tlet o = !1,\n\t\t\t\t\ta = [],\n\t\t\t\t\tu;\n\t\t\t\tfor (u = 0; u < n.length; u++)\n\t\t\t\t\tif (this.rules.other.blockquoteStart.test(n[u]))\n\t\t\t\t\t\ta.push(n[u]), (o = !0);\n\t\t\t\t\telse if (!o) a.push(n[u]);\n\t\t\t\t\telse break;\n\t\t\t\tn = n.slice(u);\n\t\t\t\tlet p = a.join(`\n`),\n\t\t\t\t\tc = p\n\t\t\t\t\t\t.replace(\n\t\t\t\t\t\t\tthis.rules.other.blockquoteSetextReplace,\n\t\t\t\t\t\t\t`\n    $1`\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.replace(this.rules.other.blockquoteSetextReplace2, \"\");\n\t\t\t\t(r = r\n\t\t\t\t\t? `${r}\n${p}`\n\t\t\t\t\t: p),\n\t\t\t\t\t(i = i\n\t\t\t\t\t\t? `${i}\n${c}`\n\t\t\t\t\t\t: c);\n\t\t\t\tlet f = this.lexer.state.top;\n\t\t\t\tif (\n\t\t\t\t\t((this.lexer.state.top = !0),\n\t\t\t\t\tthis.lexer.blockTokens(c, s, !0),\n\t\t\t\t\t(this.lexer.state.top = f),\n\t\t\t\t\tn.length === 0)\n\t\t\t\t)\n\t\t\t\t\tbreak;\n\t\t\t\tlet k = s.at(-1);\n\t\t\t\tif (k?.type === \"code\") break;\n\t\t\t\tif (k?.type === \"blockquote\") {\n\t\t\t\t\tlet x = k,\n\t\t\t\t\t\tg =\n\t\t\t\t\t\t\tx.raw +\n\t\t\t\t\t\t\t`\n` +\n\t\t\t\t\t\t\tn.join(`\n`),\n\t\t\t\t\t\tT = this.blockquote(g);\n\t\t\t\t\t(s[s.length - 1] = T),\n\t\t\t\t\t\t(r = r.substring(0, r.length - x.raw.length) + T.raw),\n\t\t\t\t\t\t(i = i.substring(0, i.length - x.text.length) + T.text);\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (k?.type === \"list\") {\n\t\t\t\t\tlet x = k,\n\t\t\t\t\t\tg =\n\t\t\t\t\t\t\tx.raw +\n\t\t\t\t\t\t\t`\n` +\n\t\t\t\t\t\t\tn.join(`\n`),\n\t\t\t\t\t\tT = this.list(g);\n\t\t\t\t\t(s[s.length - 1] = T),\n\t\t\t\t\t\t(r = r.substring(0, r.length - k.raw.length) + T.raw),\n\t\t\t\t\t\t(i = i.substring(0, i.length - x.raw.length) + T.raw),\n\t\t\t\t\t\t(n = g.substring(s.at(-1).raw.length).split(`\n`));\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn { type: \"blockquote\", raw: r, tokens: s, text: i };\n\t\t}\n\t}\n\tlist(e) {\n\t\tlet t = this.rules.block.list.exec(e);\n\t\tif (t) {\n\t\t\tlet n = t[1].trim(),\n\t\t\t\tr = n.length > 1,\n\t\t\t\ti = {\n\t\t\t\t\ttype: \"list\",\n\t\t\t\t\traw: \"\",\n\t\t\t\t\tordered: r,\n\t\t\t\t\tstart: r ? +n.slice(0, -1) : \"\",\n\t\t\t\t\tloose: !1,\n\t\t\t\t\titems: [],\n\t\t\t\t};\n\t\t\t(n = r ? `\\\\d{1,9}\\\\${n.slice(-1)}` : `\\\\${n}`),\n\t\t\t\tthis.options.pedantic && (n = r ? n : \"[*+-]\");\n\t\t\tlet s = this.rules.other.listItemRegex(n),\n\t\t\t\to = !1;\n\t\t\tfor (; e; ) {\n\t\t\t\tlet u = !1,\n\t\t\t\t\tp = \"\",\n\t\t\t\t\tc = \"\";\n\t\t\t\tif (!(t = s.exec(e)) || this.rules.block.hr.test(e)) break;\n\t\t\t\t(p = t[0]), (e = e.substring(p.length));\n\t\t\t\tlet f = t[2]\n\t\t\t\t\t\t.split(\n\t\t\t\t\t\t\t`\n`,\n\t\t\t\t\t\t\t1\n\t\t\t\t\t\t)[0]\n\t\t\t\t\t\t.replace(this.rules.other.listReplaceTabs, (H) =>\n\t\t\t\t\t\t\t\" \".repeat(3 * H.length)\n\t\t\t\t\t\t),\n\t\t\t\t\tk = e.split(\n\t\t\t\t\t\t`\n`,\n\t\t\t\t\t\t1\n\t\t\t\t\t)[0],\n\t\t\t\t\tx = !f.trim(),\n\t\t\t\t\tg = 0;\n\t\t\t\tif (\n\t\t\t\t\t(this.options.pedantic\n\t\t\t\t\t\t? ((g = 2), (c = f.trimStart()))\n\t\t\t\t\t\t: x\n\t\t\t\t\t\t\t? (g = t[1].length + 1)\n\t\t\t\t\t\t\t: ((g = t[2].search(this.rules.other.nonSpaceChar)),\n\t\t\t\t\t\t\t\t(g = g > 4 ? 1 : g),\n\t\t\t\t\t\t\t\t(c = f.slice(g)),\n\t\t\t\t\t\t\t\t(g += t[1].length)),\n\t\t\t\t\tx &&\n\t\t\t\t\t\tthis.rules.other.blankLine.test(k) &&\n\t\t\t\t\t\t((p +=\n\t\t\t\t\t\t\tk +\n\t\t\t\t\t\t\t`\n`),\n\t\t\t\t\t\t(e = e.substring(k.length + 1)),\n\t\t\t\t\t\t(u = !0)),\n\t\t\t\t\t!u)\n\t\t\t\t) {\n\t\t\t\t\tlet H = this.rules.other.nextBulletRegex(g),\n\t\t\t\t\t\tee = this.rules.other.hrRegex(g),\n\t\t\t\t\t\tte = this.rules.other.fencesBeginRegex(g),\n\t\t\t\t\t\tne = this.rules.other.headingBeginRegex(g),\n\t\t\t\t\t\tme = this.rules.other.htmlBeginRegex(g);\n\t\t\t\t\tfor (; e; ) {\n\t\t\t\t\t\tlet Z = e.split(\n\t\t\t\t\t\t\t\t`\n`,\n\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t)[0],\n\t\t\t\t\t\t\tA;\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t((k = Z),\n\t\t\t\t\t\t\tthis.options.pedantic\n\t\t\t\t\t\t\t\t? ((k = k.replace(this.rules.other.listReplaceNesting, \"  \")),\n\t\t\t\t\t\t\t\t\t(A = k))\n\t\t\t\t\t\t\t\t: (A = k.replace(this.rules.other.tabCharGlobal, \"    \")),\n\t\t\t\t\t\t\tte.test(k) || ne.test(k) || me.test(k) || H.test(k) || ee.test(k))\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tif (A.search(this.rules.other.nonSpaceChar) >= g || !k.trim())\n\t\t\t\t\t\t\tc +=\n\t\t\t\t\t\t\t\t`\n` + A.slice(g);\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tx ||\n\t\t\t\t\t\t\t\tf\n\t\t\t\t\t\t\t\t\t.replace(this.rules.other.tabCharGlobal, \"    \")\n\t\t\t\t\t\t\t\t\t.search(this.rules.other.nonSpaceChar) >= 4 ||\n\t\t\t\t\t\t\t\tte.test(f) ||\n\t\t\t\t\t\t\t\tne.test(f) ||\n\t\t\t\t\t\t\t\tee.test(f)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tc +=\n\t\t\t\t\t\t\t\t`\n` + k;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t!x && !k.trim() && (x = !0),\n\t\t\t\t\t\t\t(p +=\n\t\t\t\t\t\t\t\tZ +\n\t\t\t\t\t\t\t\t`\n`),\n\t\t\t\t\t\t\t(e = e.substring(Z.length + 1)),\n\t\t\t\t\t\t\t(f = A.slice(g));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ti.loose ||\n\t\t\t\t\t(o\n\t\t\t\t\t\t? (i.loose = !0)\n\t\t\t\t\t\t: this.rules.other.doubleBlankLine.test(p) && (o = !0));\n\t\t\t\tlet T = null,\n\t\t\t\t\tY;\n\t\t\t\tthis.options.gfm &&\n\t\t\t\t\t((T = this.rules.other.listIsTask.exec(c)),\n\t\t\t\t\tT &&\n\t\t\t\t\t\t((Y = T[0] !== \"[ ] \"),\n\t\t\t\t\t\t(c = c.replace(this.rules.other.listReplaceTask, \"\")))),\n\t\t\t\t\ti.items.push({\n\t\t\t\t\t\ttype: \"list_item\",\n\t\t\t\t\t\traw: p,\n\t\t\t\t\t\ttask: !!T,\n\t\t\t\t\t\tchecked: Y,\n\t\t\t\t\t\tloose: !1,\n\t\t\t\t\t\ttext: c,\n\t\t\t\t\t\ttokens: [],\n\t\t\t\t\t}),\n\t\t\t\t\t(i.raw += p);\n\t\t\t}\n\t\t\tlet a = i.items.at(-1);\n\t\t\tif (a) (a.raw = a.raw.trimEnd()), (a.text = a.text.trimEnd());\n\t\t\telse return;\n\t\t\ti.raw = i.raw.trimEnd();\n\t\t\tfor (let u = 0; u < i.items.length; u++)\n\t\t\t\tif (\n\t\t\t\t\t((this.lexer.state.top = !1),\n\t\t\t\t\t(i.items[u].tokens = this.lexer.blockTokens(i.items[u].text, [])),\n\t\t\t\t\t!i.loose)\n\t\t\t\t) {\n\t\t\t\t\tlet p = i.items[u].tokens.filter((f) => f.type === \"space\"),\n\t\t\t\t\t\tc =\n\t\t\t\t\t\t\tp.length > 0 &&\n\t\t\t\t\t\t\tp.some((f) => this.rules.other.anyLine.test(f.raw));\n\t\t\t\t\ti.loose = c;\n\t\t\t\t}\n\t\t\tif (i.loose)\n\t\t\t\tfor (let u = 0; u < i.items.length; u++) i.items[u].loose = !0;\n\t\t\treturn i;\n\t\t}\n\t}\n\thtml(e) {\n\t\tlet t = this.rules.block.html.exec(e);\n\t\tif (t)\n\t\t\treturn {\n\t\t\t\ttype: \"html\",\n\t\t\t\tblock: !0,\n\t\t\t\traw: t[0],\n\t\t\t\tpre: t[1] === \"pre\" || t[1] === \"script\" || t[1] === \"style\",\n\t\t\t\ttext: t[0],\n\t\t\t};\n\t}\n\tdef(e) {\n\t\tlet t = this.rules.block.def.exec(e);\n\t\tif (t) {\n\t\t\tlet n = t[1]\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(this.rules.other.multipleSpaceGlobal, \" \"),\n\t\t\t\tr = t[2]\n\t\t\t\t\t? t[2]\n\t\t\t\t\t\t\t.replace(this.rules.other.hrefBrackets, \"$1\")\n\t\t\t\t\t\t\t.replace(this.rules.inline.anyPunctuation, \"$1\")\n\t\t\t\t\t: \"\",\n\t\t\t\ti = t[3]\n\t\t\t\t\t? t[3]\n\t\t\t\t\t\t\t.substring(1, t[3].length - 1)\n\t\t\t\t\t\t\t.replace(this.rules.inline.anyPunctuation, \"$1\")\n\t\t\t\t\t: t[3];\n\t\t\treturn { type: \"def\", tag: n, raw: t[0], href: r, title: i };\n\t\t}\n\t}\n\ttable(e) {\n\t\tlet t = this.rules.block.table.exec(e);\n\t\tif (!t || !this.rules.other.tableDelimiter.test(t[2])) return;\n\t\tlet n = V(t[1]),\n\t\t\tr = t[2].replace(this.rules.other.tableAlignChars, \"\").split(\"|\"),\n\t\t\ti = t[3]?.trim()\n\t\t\t\t? t[3].replace(this.rules.other.tableRowBlankLine, \"\").split(`\n`)\n\t\t\t\t: [],\n\t\t\ts = { type: \"table\", raw: t[0], header: [], align: [], rows: [] };\n\t\tif (n.length === r.length) {\n\t\t\tfor (let o of r)\n\t\t\t\tthis.rules.other.tableAlignRight.test(o)\n\t\t\t\t\t? s.align.push(\"right\")\n\t\t\t\t\t: this.rules.other.tableAlignCenter.test(o)\n\t\t\t\t\t\t? s.align.push(\"center\")\n\t\t\t\t\t\t: this.rules.other.tableAlignLeft.test(o)\n\t\t\t\t\t\t\t? s.align.push(\"left\")\n\t\t\t\t\t\t\t: s.align.push(null);\n\t\t\tfor (let o = 0; o < n.length; o++)\n\t\t\t\ts.header.push({\n\t\t\t\t\ttext: n[o],\n\t\t\t\t\ttokens: this.lexer.inline(n[o]),\n\t\t\t\t\theader: !0,\n\t\t\t\t\talign: s.align[o],\n\t\t\t\t});\n\t\t\tfor (let o of i)\n\t\t\t\ts.rows.push(\n\t\t\t\t\tV(o, s.header.length).map((a, u) => ({\n\t\t\t\t\t\ttext: a,\n\t\t\t\t\t\ttokens: this.lexer.inline(a),\n\t\t\t\t\t\theader: !1,\n\t\t\t\t\t\talign: s.align[u],\n\t\t\t\t\t}))\n\t\t\t\t);\n\t\t\treturn s;\n\t\t}\n\t}\n\tlheading(e) {\n\t\tlet t = this.rules.block.lheading.exec(e);\n\t\tif (t)\n\t\t\treturn {\n\t\t\t\ttype: \"heading\",\n\t\t\t\traw: t[0],\n\t\t\t\tdepth: t[2].charAt(0) === \"=\" ? 1 : 2,\n\t\t\t\ttext: t[1],\n\t\t\t\ttokens: this.lexer.inline(t[1]),\n\t\t\t};\n\t}\n\tparagraph(e) {\n\t\tlet t = this.rules.block.paragraph.exec(e);\n\t\tif (t) {\n\t\t\tlet n =\n\t\t\t\tt[1].charAt(t[1].length - 1) ===\n\t\t\t\t`\n`\n\t\t\t\t\t? t[1].slice(0, -1)\n\t\t\t\t\t: t[1];\n\t\t\treturn {\n\t\t\t\ttype: \"paragraph\",\n\t\t\t\traw: t[0],\n\t\t\t\ttext: n,\n\t\t\t\ttokens: this.lexer.inline(n),\n\t\t\t};\n\t\t}\n\t}\n\ttext(e) {\n\t\tlet t = this.rules.block.text.exec(e);\n\t\tif (t)\n\t\t\treturn {\n\t\t\t\ttype: \"text\",\n\t\t\t\traw: t[0],\n\t\t\t\ttext: t[0],\n\t\t\t\ttokens: this.lexer.inline(t[0]),\n\t\t\t};\n\t}\n\tescape(e) {\n\t\tlet t = this.rules.inline.escape.exec(e);\n\t\tif (t) return { type: \"escape\", raw: t[0], text: t[1] };\n\t}\n\ttag(e) {\n\t\tlet t = this.rules.inline.tag.exec(e);\n\t\tif (t)\n\t\t\treturn (\n\t\t\t\t!this.lexer.state.inLink && this.rules.other.startATag.test(t[0])\n\t\t\t\t\t? (this.lexer.state.inLink = !0)\n\t\t\t\t\t: this.lexer.state.inLink &&\n\t\t\t\t\t\tthis.rules.other.endATag.test(t[0]) &&\n\t\t\t\t\t\t(this.lexer.state.inLink = !1),\n\t\t\t\t!this.lexer.state.inRawBlock &&\n\t\t\t\tthis.rules.other.startPreScriptTag.test(t[0])\n\t\t\t\t\t? (this.lexer.state.inRawBlock = !0)\n\t\t\t\t\t: this.lexer.state.inRawBlock &&\n\t\t\t\t\t\tthis.rules.other.endPreScriptTag.test(t[0]) &&\n\t\t\t\t\t\t(this.lexer.state.inRawBlock = !1),\n\t\t\t\t{\n\t\t\t\t\ttype: \"html\",\n\t\t\t\t\traw: t[0],\n\t\t\t\t\tinLink: this.lexer.state.inLink,\n\t\t\t\t\tinRawBlock: this.lexer.state.inRawBlock,\n\t\t\t\t\tblock: !1,\n\t\t\t\t\ttext: t[0],\n\t\t\t\t}\n\t\t\t);\n\t}\n\tlink(e) {\n\t\tlet t = this.rules.inline.link.exec(e);\n\t\tif (t) {\n\t\t\tlet n = t[2].trim();\n\t\t\tif (\n\t\t\t\t!this.options.pedantic &&\n\t\t\t\tthis.rules.other.startAngleBracket.test(n)\n\t\t\t) {\n\t\t\t\tif (!this.rules.other.endAngleBracket.test(n)) return;\n\t\t\t\tlet s = z(n.slice(0, -1), \"\\\\\");\n\t\t\t\tif ((n.length - s.length) % 2 === 0) return;\n\t\t\t} else {\n\t\t\t\tlet s = ge(t[2], \"()\");\n\t\t\t\tif (s === -2) return;\n\t\t\t\tif (s > -1) {\n\t\t\t\t\tlet a = (t[0].indexOf(\"!\") === 0 ? 5 : 4) + t[1].length + s;\n\t\t\t\t\t(t[2] = t[2].substring(0, s)),\n\t\t\t\t\t\t(t[0] = t[0].substring(0, a).trim()),\n\t\t\t\t\t\t(t[3] = \"\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet r = t[2],\n\t\t\t\ti = \"\";\n\t\t\tif (this.options.pedantic) {\n\t\t\t\tlet s = this.rules.other.pedanticHrefTitle.exec(r);\n\t\t\t\ts && ((r = s[1]), (i = s[3]));\n\t\t\t} else i = t[3] ? t[3].slice(1, -1) : \"\";\n\t\t\treturn (\n\t\t\t\t(r = r.trim()),\n\t\t\t\tthis.rules.other.startAngleBracket.test(r) &&\n\t\t\t\t\t(this.options.pedantic && !this.rules.other.endAngleBracket.test(n)\n\t\t\t\t\t\t? (r = r.slice(1))\n\t\t\t\t\t\t: (r = r.slice(1, -1))),\n\t\t\t\tfe(\n\t\t\t\t\tt,\n\t\t\t\t\t{\n\t\t\t\t\t\thref: r && r.replace(this.rules.inline.anyPunctuation, \"$1\"),\n\t\t\t\t\t\ttitle: i && i.replace(this.rules.inline.anyPunctuation, \"$1\"),\n\t\t\t\t\t},\n\t\t\t\t\tt[0],\n\t\t\t\t\tthis.lexer,\n\t\t\t\t\tthis.rules\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\treflink(e, t) {\n\t\tlet n;\n\t\tif (\n\t\t\t(n = this.rules.inline.reflink.exec(e)) ||\n\t\t\t(n = this.rules.inline.nolink.exec(e))\n\t\t) {\n\t\t\tlet r = (n[2] || n[1]).replace(this.rules.other.multipleSpaceGlobal, \" \"),\n\t\t\t\ti = t[r.toLowerCase()];\n\t\t\tif (!i) {\n\t\t\t\tlet s = n[0].charAt(0);\n\t\t\t\treturn { type: \"text\", raw: s, text: s };\n\t\t\t}\n\t\t\treturn fe(n, i, n[0], this.lexer, this.rules);\n\t\t}\n\t}\n\temStrong(e, t, n = \"\") {\n\t\tlet r = this.rules.inline.emStrongLDelim.exec(e);\n\t\tif (!r || (r[3] && n.match(this.rules.other.unicodeAlphaNumeric))) return;\n\t\tif (!(r[1] || r[2] || \"\") || !n || this.rules.inline.punctuation.exec(n)) {\n\t\t\tlet s = [...r[0]].length - 1,\n\t\t\t\to,\n\t\t\t\ta,\n\t\t\t\tu = s,\n\t\t\t\tp = 0,\n\t\t\t\tc =\n\t\t\t\t\tr[0][0] === \"*\"\n\t\t\t\t\t\t? this.rules.inline.emStrongRDelimAst\n\t\t\t\t\t\t: this.rules.inline.emStrongRDelimUnd;\n\t\t\tfor (\n\t\t\t\tc.lastIndex = 0, t = t.slice(-1 * e.length + s);\n\t\t\t\t(r = c.exec(t)) != null;\n\n\t\t\t) {\n\t\t\t\tif (((o = r[1] || r[2] || r[3] || r[4] || r[5] || r[6]), !o)) continue;\n\t\t\t\tif (((a = [...o].length), r[3] || r[4])) {\n\t\t\t\t\tu += a;\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ((r[5] || r[6]) && s % 3 && !((s + a) % 3)) {\n\t\t\t\t\tp += a;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (((u -= a), u > 0)) continue;\n\t\t\t\ta = Math.min(a, a + u + p);\n\t\t\t\tlet f = [...r[0]][0].length,\n\t\t\t\t\tk = e.slice(0, s + r.index + f + a);\n\t\t\t\tif (Math.min(s, a) % 2) {\n\t\t\t\t\tlet g = k.slice(1, -1);\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: \"em\",\n\t\t\t\t\t\traw: k,\n\t\t\t\t\t\ttext: g,\n\t\t\t\t\t\ttokens: this.lexer.inlineTokens(g),\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tlet x = k.slice(2, -2);\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"strong\",\n\t\t\t\t\traw: k,\n\t\t\t\t\ttext: x,\n\t\t\t\t\ttokens: this.lexer.inlineTokens(x),\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\tcodespan(e) {\n\t\tlet t = this.rules.inline.code.exec(e);\n\t\tif (t) {\n\t\t\tlet n = t[2].replace(this.rules.other.newLineCharGlobal, \" \"),\n\t\t\t\tr = this.rules.other.nonSpaceChar.test(n),\n\t\t\t\ti =\n\t\t\t\t\tthis.rules.other.startingSpaceChar.test(n) &&\n\t\t\t\t\tthis.rules.other.endingSpaceChar.test(n);\n\t\t\treturn (\n\t\t\t\tr && i && (n = n.substring(1, n.length - 1)),\n\t\t\t\t{ type: \"codespan\", raw: t[0], text: n }\n\t\t\t);\n\t\t}\n\t}\n\tbr(e) {\n\t\tlet t = this.rules.inline.br.exec(e);\n\t\tif (t) return { type: \"br\", raw: t[0] };\n\t}\n\tdel(e) {\n\t\tlet t = this.rules.inline.del.exec(e);\n\t\tif (t)\n\t\t\treturn {\n\t\t\t\ttype: \"del\",\n\t\t\t\traw: t[0],\n\t\t\t\ttext: t[2],\n\t\t\t\ttokens: this.lexer.inlineTokens(t[2]),\n\t\t\t};\n\t}\n\tautolink(e) {\n\t\tlet t = this.rules.inline.autolink.exec(e);\n\t\tif (t) {\n\t\t\tlet n, r;\n\t\t\treturn (\n\t\t\t\tt[2] === \"@\"\n\t\t\t\t\t? ((n = t[1]), (r = \"mailto:\" + n))\n\t\t\t\t\t: ((n = t[1]), (r = n)),\n\t\t\t\t{\n\t\t\t\t\ttype: \"link\",\n\t\t\t\t\traw: t[0],\n\t\t\t\t\ttext: n,\n\t\t\t\t\thref: r,\n\t\t\t\t\ttokens: [{ type: \"text\", raw: n, text: n }],\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\turl(e) {\n\t\tlet t;\n\t\tif ((t = this.rules.inline.url.exec(e))) {\n\t\t\tlet n, r;\n\t\t\tif (t[2] === \"@\") (n = t[0]), (r = \"mailto:\" + n);\n\t\t\telse {\n\t\t\t\tlet i;\n\t\t\t\tdo\n\t\t\t\t\t(i = t[0]),\n\t\t\t\t\t\t(t[0] = this.rules.inline._backpedal.exec(t[0])?.[0] ?? \"\");\n\t\t\t\twhile (i !== t[0]);\n\t\t\t\t(n = t[0]), t[1] === \"www.\" ? (r = \"http://\" + t[0]) : (r = t[0]);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttype: \"link\",\n\t\t\t\traw: t[0],\n\t\t\t\ttext: n,\n\t\t\t\thref: r,\n\t\t\t\ttokens: [{ type: \"text\", raw: n, text: n }],\n\t\t\t};\n\t\t}\n\t}\n\tinlineText(e) {\n\t\tlet t = this.rules.inline.text.exec(e);\n\t\tif (t) {\n\t\t\tlet n = this.lexer.state.inRawBlock;\n\t\t\treturn { type: \"text\", raw: t[0], text: t[0], escaped: n };\n\t\t}\n\t}\n};\nvar b = class l {\n\ttokens;\n\toptions;\n\tstate;\n\ttokenizer;\n\tinlineQueue;\n\tconstructor(e) {\n\t\t(this.tokens = []),\n\t\t\t(this.tokens.links = Object.create(null)),\n\t\t\t(this.options = e || O),\n\t\t\t(this.options.tokenizer = this.options.tokenizer || new y()),\n\t\t\t(this.tokenizer = this.options.tokenizer),\n\t\t\t(this.tokenizer.options = this.options),\n\t\t\t(this.tokenizer.lexer = this),\n\t\t\t(this.inlineQueue = []),\n\t\t\t(this.state = { inLink: !1, inRawBlock: !1, top: !0 });\n\t\tlet t = { other: m, block: I.normal, inline: M.normal };\n\t\tthis.options.pedantic\n\t\t\t? ((t.block = I.pedantic), (t.inline = M.pedantic))\n\t\t\t: this.options.gfm &&\n\t\t\t\t((t.block = I.gfm),\n\t\t\t\tthis.options.breaks ? (t.inline = M.breaks) : (t.inline = M.gfm)),\n\t\t\t(this.tokenizer.rules = t);\n\t}\n\tstatic get rules() {\n\t\treturn { block: I, inline: M };\n\t}\n\tstatic lex(e, t) {\n\t\treturn new l(t).lex(e);\n\t}\n\tstatic lexInline(e, t) {\n\t\treturn new l(t).inlineTokens(e);\n\t}\n\tlex(e) {\n\t\t(e = e.replace(\n\t\t\tm.carriageReturn,\n\t\t\t`\n`\n\t\t)),\n\t\t\tthis.blockTokens(e, this.tokens);\n\t\tfor (let t = 0; t < this.inlineQueue.length; t++) {\n\t\t\tlet n = this.inlineQueue[t];\n\t\t\tthis.inlineTokens(n.src, n.tokens);\n\t\t}\n\t\treturn (this.inlineQueue = []), this.tokens;\n\t}\n\tblockTokens(e, t = [], n = !1) {\n\t\tfor (\n\t\t\tthis.options.pedantic &&\n\t\t\t(e = e.replace(m.tabCharGlobal, \"    \").replace(m.spaceLine, \"\"));\n\t\t\te;\n\n\t\t) {\n\t\t\tlet r;\n\t\t\tif (\n\t\t\t\tthis.options.extensions?.block?.some((s) =>\n\t\t\t\t\t(r = s.call({ lexer: this }, e, t))\n\t\t\t\t\t\t? ((e = e.substring(r.raw.length)), t.push(r), !0)\n\t\t\t\t\t\t: !1\n\t\t\t\t)\n\t\t\t)\n\t\t\t\tcontinue;\n\t\t\tif ((r = this.tokenizer.space(e))) {\n\t\t\t\te = e.substring(r.raw.length);\n\t\t\t\tlet s = t.at(-1);\n\t\t\t\tr.raw.length === 1 && s !== void 0\n\t\t\t\t\t? (s.raw += `\n`)\n\t\t\t\t\t: t.push(r);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((r = this.tokenizer.code(e))) {\n\t\t\t\te = e.substring(r.raw.length);\n\t\t\t\tlet s = t.at(-1);\n\t\t\t\ts?.type === \"paragraph\" || s?.type === \"text\"\n\t\t\t\t\t? ((s.raw +=\n\t\t\t\t\t\t\t(s.raw.endsWith(`\n`)\n\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t: `\n`) + r.raw),\n\t\t\t\t\t\t(s.text +=\n\t\t\t\t\t\t\t`\n` + r.text),\n\t\t\t\t\t\t(this.inlineQueue.at(-1).src = s.text))\n\t\t\t\t\t: t.push(r);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((r = this.tokenizer.fences(e))) {\n\t\t\t\t(e = e.substring(r.raw.length)), t.push(r);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((r = this.tokenizer.heading(e))) {\n\t\t\t\t(e = e.substring(r.raw.length)), t.push(r);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((r = this.tokenizer.hr(e))) {\n\t\t\t\t(e = e.substring(r.raw.length)), t.push(r);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((r = this.tokenizer.blockquote(e))) {\n\t\t\t\t(e = e.substring(r.raw.length)), t.push(r);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((r = this.tokenizer.list(e))) {\n\t\t\t\t(e = e.substring(r.raw.length)), t.push(r);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((r = this.tokenizer.html(e))) {\n\t\t\t\t(e = e.substring(r.raw.length)), t.push(r);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((r = this.tokenizer.def(e))) {\n\t\t\t\te = e.substring(r.raw.length);\n\t\t\t\tlet s = t.at(-1);\n\t\t\t\ts?.type === \"paragraph\" || s?.type === \"text\"\n\t\t\t\t\t? ((s.raw +=\n\t\t\t\t\t\t\t(s.raw.endsWith(`\n`)\n\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t: `\n`) + r.raw),\n\t\t\t\t\t\t(s.text +=\n\t\t\t\t\t\t\t`\n` + r.raw),\n\t\t\t\t\t\t(this.inlineQueue.at(-1).src = s.text))\n\t\t\t\t\t: this.tokens.links[r.tag] ||\n\t\t\t\t\t\t((this.tokens.links[r.tag] = { href: r.href, title: r.title }),\n\t\t\t\t\t\tt.push(r));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((r = this.tokenizer.table(e))) {\n\t\t\t\t(e = e.substring(r.raw.length)), t.push(r);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((r = this.tokenizer.lheading(e))) {\n\t\t\t\t(e = e.substring(r.raw.length)), t.push(r);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tlet i = e;\n\t\t\tif (this.options.extensions?.startBlock) {\n\t\t\t\tlet s = 1 / 0,\n\t\t\t\t\to = e.slice(1),\n\t\t\t\t\ta;\n\t\t\t\tthis.options.extensions.startBlock.forEach((u) => {\n\t\t\t\t\t(a = u.call({ lexer: this }, o)),\n\t\t\t\t\t\ttypeof a == \"number\" && a >= 0 && (s = Math.min(s, a));\n\t\t\t\t}),\n\t\t\t\t\ts < 1 / 0 && s >= 0 && (i = e.substring(0, s + 1));\n\t\t\t}\n\t\t\tif (this.state.top && (r = this.tokenizer.paragraph(i))) {\n\t\t\t\tlet s = t.at(-1);\n\t\t\t\tn && s?.type === \"paragraph\"\n\t\t\t\t\t? ((s.raw +=\n\t\t\t\t\t\t\t(s.raw.endsWith(`\n`)\n\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t: `\n`) + r.raw),\n\t\t\t\t\t\t(s.text +=\n\t\t\t\t\t\t\t`\n` + r.text),\n\t\t\t\t\t\tthis.inlineQueue.pop(),\n\t\t\t\t\t\t(this.inlineQueue.at(-1).src = s.text))\n\t\t\t\t\t: t.push(r),\n\t\t\t\t\t(n = i.length !== e.length),\n\t\t\t\t\t(e = e.substring(r.raw.length));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((r = this.tokenizer.text(e))) {\n\t\t\t\te = e.substring(r.raw.length);\n\t\t\t\tlet s = t.at(-1);\n\t\t\t\ts?.type === \"text\"\n\t\t\t\t\t? ((s.raw +=\n\t\t\t\t\t\t\t(s.raw.endsWith(`\n`)\n\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t: `\n`) + r.raw),\n\t\t\t\t\t\t(s.text +=\n\t\t\t\t\t\t\t`\n` + r.text),\n\t\t\t\t\t\tthis.inlineQueue.pop(),\n\t\t\t\t\t\t(this.inlineQueue.at(-1).src = s.text))\n\t\t\t\t\t: t.push(r);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (e) {\n\t\t\t\tlet s = \"Infinite loop on byte: \" + e.charCodeAt(0);\n\t\t\t\tif (this.options.silent) {\n\t\t\t\t\tconsole.error(s);\n\t\t\t\t\tbreak;\n\t\t\t\t} else throw new Error(s);\n\t\t\t}\n\t\t}\n\t\treturn (this.state.top = !0), t;\n\t}\n\tinline(e, t = []) {\n\t\treturn this.inlineQueue.push({ src: e, tokens: t }), t;\n\t}\n\tinlineTokens(e, t = []) {\n\t\tlet n = e,\n\t\t\tr = null;\n\t\tif (this.tokens.links) {\n\t\t\tlet o = Object.keys(this.tokens.links);\n\t\t\tif (o.length > 0)\n\t\t\t\tfor (\n\t\t\t\t\t;\n\t\t\t\t\t(r = this.tokenizer.rules.inline.reflinkSearch.exec(n)) != null;\n\n\t\t\t\t)\n\t\t\t\t\to.includes(r[0].slice(r[0].lastIndexOf(\"[\") + 1, -1)) &&\n\t\t\t\t\t\t(n =\n\t\t\t\t\t\t\tn.slice(0, r.index) +\n\t\t\t\t\t\t\t\"[\" +\n\t\t\t\t\t\t\t\"a\".repeat(r[0].length - 2) +\n\t\t\t\t\t\t\t\"]\" +\n\t\t\t\t\t\t\tn.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex));\n\t\t}\n\t\tfor (; (r = this.tokenizer.rules.inline.anyPunctuation.exec(n)) != null; )\n\t\t\tn =\n\t\t\t\tn.slice(0, r.index) +\n\t\t\t\t\"++\" +\n\t\t\t\tn.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);\n\t\tfor (; (r = this.tokenizer.rules.inline.blockSkip.exec(n)) != null; )\n\t\t\tn =\n\t\t\t\tn.slice(0, r.index) +\n\t\t\t\t\"[\" +\n\t\t\t\t\"a\".repeat(r[0].length - 2) +\n\t\t\t\t\"]\" +\n\t\t\t\tn.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n\t\tn = this.options.hooks?.emStrongMask?.call({ lexer: this }, n) ?? n;\n\t\tlet i = !1,\n\t\t\ts = \"\";\n\t\tfor (; e; ) {\n\t\t\ti || (s = \"\"), (i = !1);\n\t\t\tlet o;\n\t\t\tif (\n\t\t\t\tthis.options.extensions?.inline?.some((u) =>\n\t\t\t\t\t(o = u.call({ lexer: this }, e, t))\n\t\t\t\t\t\t? ((e = e.substring(o.raw.length)), t.push(o), !0)\n\t\t\t\t\t\t: !1\n\t\t\t\t)\n\t\t\t)\n\t\t\t\tcontinue;\n\t\t\tif ((o = this.tokenizer.escape(e))) {\n\t\t\t\t(e = e.substring(o.raw.length)), t.push(o);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((o = this.tokenizer.tag(e))) {\n\t\t\t\t(e = e.substring(o.raw.length)), t.push(o);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((o = this.tokenizer.link(e))) {\n\t\t\t\t(e = e.substring(o.raw.length)), t.push(o);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((o = this.tokenizer.reflink(e, this.tokens.links))) {\n\t\t\t\te = e.substring(o.raw.length);\n\t\t\t\tlet u = t.at(-1);\n\t\t\t\to.type === \"text\" && u?.type === \"text\"\n\t\t\t\t\t? ((u.raw += o.raw), (u.text += o.text))\n\t\t\t\t\t: t.push(o);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((o = this.tokenizer.emStrong(e, n, s))) {\n\t\t\t\t(e = e.substring(o.raw.length)), t.push(o);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((o = this.tokenizer.codespan(e))) {\n\t\t\t\t(e = e.substring(o.raw.length)), t.push(o);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((o = this.tokenizer.br(e))) {\n\t\t\t\t(e = e.substring(o.raw.length)), t.push(o);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((o = this.tokenizer.del(e))) {\n\t\t\t\t(e = e.substring(o.raw.length)), t.push(o);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((o = this.tokenizer.autolink(e))) {\n\t\t\t\t(e = e.substring(o.raw.length)), t.push(o);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!this.state.inLink && (o = this.tokenizer.url(e))) {\n\t\t\t\t(e = e.substring(o.raw.length)), t.push(o);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tlet a = e;\n\t\t\tif (this.options.extensions?.startInline) {\n\t\t\t\tlet u = 1 / 0,\n\t\t\t\t\tp = e.slice(1),\n\t\t\t\t\tc;\n\t\t\t\tthis.options.extensions.startInline.forEach((f) => {\n\t\t\t\t\t(c = f.call({ lexer: this }, p)),\n\t\t\t\t\t\ttypeof c == \"number\" && c >= 0 && (u = Math.min(u, c));\n\t\t\t\t}),\n\t\t\t\t\tu < 1 / 0 && u >= 0 && (a = e.substring(0, u + 1));\n\t\t\t}\n\t\t\tif ((o = this.tokenizer.inlineText(a))) {\n\t\t\t\t(e = e.substring(o.raw.length)),\n\t\t\t\t\to.raw.slice(-1) !== \"_\" && (s = o.raw.slice(-1)),\n\t\t\t\t\t(i = !0);\n\t\t\t\tlet u = t.at(-1);\n\t\t\t\tu?.type === \"text\" ? ((u.raw += o.raw), (u.text += o.text)) : t.push(o);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (e) {\n\t\t\t\tlet u = \"Infinite loop on byte: \" + e.charCodeAt(0);\n\t\t\t\tif (this.options.silent) {\n\t\t\t\t\tconsole.error(u);\n\t\t\t\t\tbreak;\n\t\t\t\t} else throw new Error(u);\n\t\t\t}\n\t\t}\n\t\treturn t;\n\t}\n};\nvar P = class {\n\toptions;\n\tparser;\n\tconstructor(e) {\n\t\tthis.options = e || O;\n\t}\n\tspace(e) {\n\t\treturn \"\";\n\t}\n\tcode({ text: e, lang: t, escaped: n }) {\n\t\tlet r = (t || \"\").match(m.notSpaceStart)?.[0],\n\t\t\ti =\n\t\t\t\te.replace(m.endingNewline, \"\") +\n\t\t\t\t`\n`;\n\t\treturn r\n\t\t\t? '<pre><code class=\"language-' +\n\t\t\t\t\tw(r) +\n\t\t\t\t\t'\">' +\n\t\t\t\t\t(n ? i : w(i, !0)) +\n\t\t\t\t\t`</code></pre>\n`\n\t\t\t: \"<pre><code>\" +\n\t\t\t\t\t(n ? i : w(i, !0)) +\n\t\t\t\t\t`</code></pre>\n`;\n\t}\n\tblockquote({ tokens: e }) {\n\t\treturn `<blockquote>\n${this.parser.parse(e)}</blockquote>\n`;\n\t}\n\thtml({ text: e }) {\n\t\treturn e;\n\t}\n\tdef(e) {\n\t\treturn \"\";\n\t}\n\theading({ tokens: e, depth: t }) {\n\t\treturn `<h${t}>${this.parser.parseInline(e)}</h${t}>\n`;\n\t}\n\thr(e) {\n\t\treturn `<hr>\n`;\n\t}\n\tlist(e) {\n\t\tlet t = e.ordered,\n\t\t\tn = e.start,\n\t\t\tr = \"\";\n\t\tfor (let o = 0; o < e.items.length; o++) {\n\t\t\tlet a = e.items[o];\n\t\t\tr += this.listitem(a);\n\t\t}\n\t\tlet i = t ? \"ol\" : \"ul\",\n\t\t\ts = t && n !== 1 ? ' start=\"' + n + '\"' : \"\";\n\t\treturn (\n\t\t\t\"<\" +\n\t\t\ti +\n\t\t\ts +\n\t\t\t`>\n` +\n\t\t\tr +\n\t\t\t\"</\" +\n\t\t\ti +\n\t\t\t`>\n`\n\t\t);\n\t}\n\tlistitem(e) {\n\t\tlet t = \"\";\n\t\tif (e.task) {\n\t\t\tlet n = this.checkbox({ checked: !!e.checked });\n\t\t\te.loose\n\t\t\t\t? e.tokens[0]?.type === \"paragraph\"\n\t\t\t\t\t? ((e.tokens[0].text = n + \" \" + e.tokens[0].text),\n\t\t\t\t\t\te.tokens[0].tokens &&\n\t\t\t\t\t\t\te.tokens[0].tokens.length > 0 &&\n\t\t\t\t\t\t\te.tokens[0].tokens[0].type === \"text\" &&\n\t\t\t\t\t\t\t((e.tokens[0].tokens[0].text =\n\t\t\t\t\t\t\t\tn + \" \" + w(e.tokens[0].tokens[0].text)),\n\t\t\t\t\t\t\t(e.tokens[0].tokens[0].escaped = !0)))\n\t\t\t\t\t: e.tokens.unshift({\n\t\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\t\traw: n + \" \",\n\t\t\t\t\t\t\ttext: n + \" \",\n\t\t\t\t\t\t\tescaped: !0,\n\t\t\t\t\t\t})\n\t\t\t\t: (t += n + \" \");\n\t\t}\n\t\treturn (\n\t\t\t(t += this.parser.parse(e.tokens, !!e.loose)),\n\t\t\t`<li>${t}</li>\n`\n\t\t);\n\t}\n\tcheckbox({ checked: e }) {\n\t\treturn (\n\t\t\t\"<input \" + (e ? 'checked=\"\" ' : \"\") + 'disabled=\"\" type=\"checkbox\">'\n\t\t);\n\t}\n\tparagraph({ tokens: e }) {\n\t\treturn `<p>${this.parser.parseInline(e)}</p>\n`;\n\t}\n\ttable(e) {\n\t\tlet t = \"\",\n\t\t\tn = \"\";\n\t\tfor (let i = 0; i < e.header.length; i++) n += this.tablecell(e.header[i]);\n\t\tt += this.tablerow({ text: n });\n\t\tlet r = \"\";\n\t\tfor (let i = 0; i < e.rows.length; i++) {\n\t\t\tlet s = e.rows[i];\n\t\t\tn = \"\";\n\t\t\tfor (let o = 0; o < s.length; o++) n += this.tablecell(s[o]);\n\t\t\tr += this.tablerow({ text: n });\n\t\t}\n\t\treturn (\n\t\t\tr && (r = `<tbody>${r}</tbody>`),\n\t\t\t`<table>\n<thead>\n` +\n\t\t\t\tt +\n\t\t\t\t`</thead>\n` +\n\t\t\t\tr +\n\t\t\t\t`</table>\n`\n\t\t);\n\t}\n\ttablerow({ text: e }) {\n\t\treturn `<tr>\n${e}</tr>\n`;\n\t}\n\ttablecell(e) {\n\t\tlet t = this.parser.parseInline(e.tokens),\n\t\t\tn = e.header ? \"th\" : \"td\";\n\t\treturn (\n\t\t\t(e.align ? `<${n} align=\"${e.align}\">` : `<${n}>`) +\n\t\t\tt +\n\t\t\t`</${n}>\n`\n\t\t);\n\t}\n\tstrong({ tokens: e }) {\n\t\treturn `<strong>${this.parser.parseInline(e)}</strong>`;\n\t}\n\tem({ tokens: e }) {\n\t\treturn `<em>${this.parser.parseInline(e)}</em>`;\n\t}\n\tcodespan({ text: e }) {\n\t\treturn `<code>${w(e, !0)}</code>`;\n\t}\n\tbr(e) {\n\t\treturn \"<br>\";\n\t}\n\tdel({ tokens: e }) {\n\t\treturn `<del>${this.parser.parseInline(e)}</del>`;\n\t}\n\tlink({ href: e, title: t, tokens: n }) {\n\t\tlet r = this.parser.parseInline(n),\n\t\t\ti = J(e);\n\t\tif (i === null) return r;\n\t\te = i;\n\t\tlet s = '<a href=\"' + e + '\"';\n\t\treturn t && (s += ' title=\"' + w(t) + '\"'), (s += \">\" + r + \"</a>\"), s;\n\t}\n\timage({ href: e, title: t, text: n, tokens: r }) {\n\t\tr && (n = this.parser.parseInline(r, this.parser.textRenderer));\n\t\tlet i = J(e);\n\t\tif (i === null) return w(n);\n\t\te = i;\n\t\tlet s = `<img src=\"${e}\" alt=\"${n}\"`;\n\t\treturn t && (s += ` title=\"${w(t)}\"`), (s += \">\"), s;\n\t}\n\ttext(e) {\n\t\treturn \"tokens\" in e && e.tokens\n\t\t\t? this.parser.parseInline(e.tokens)\n\t\t\t: \"escaped\" in e && e.escaped\n\t\t\t\t? e.text\n\t\t\t\t: w(e.text);\n\t}\n};\nvar $ = class {\n\tstrong({ text: e }) {\n\t\treturn e;\n\t}\n\tem({ text: e }) {\n\t\treturn e;\n\t}\n\tcodespan({ text: e }) {\n\t\treturn e;\n\t}\n\tdel({ text: e }) {\n\t\treturn e;\n\t}\n\thtml({ text: e }) {\n\t\treturn e;\n\t}\n\ttext({ text: e }) {\n\t\treturn e;\n\t}\n\tlink({ text: e }) {\n\t\treturn \"\" + e;\n\t}\n\timage({ text: e }) {\n\t\treturn \"\" + e;\n\t}\n\tbr() {\n\t\treturn \"\";\n\t}\n};\nvar R = class l {\n\toptions;\n\trenderer;\n\ttextRenderer;\n\tconstructor(e) {\n\t\t(this.options = e || O),\n\t\t\t(this.options.renderer = this.options.renderer || new P()),\n\t\t\t(this.renderer = this.options.renderer),\n\t\t\t(this.renderer.options = this.options),\n\t\t\t(this.renderer.parser = this),\n\t\t\t(this.textRenderer = new $());\n\t}\n\tstatic parse(e, t) {\n\t\treturn new l(t).parse(e);\n\t}\n\tstatic parseInline(e, t) {\n\t\treturn new l(t).parseInline(e);\n\t}\n\tparse(e, t = !0) {\n\t\tlet n = \"\";\n\t\tfor (let r = 0; r < e.length; r++) {\n\t\t\tlet i = e[r];\n\t\t\tif (this.options.extensions?.renderers?.[i.type]) {\n\t\t\t\tlet o = i,\n\t\t\t\t\ta = this.options.extensions.renderers[o.type].call(\n\t\t\t\t\t\t{ parser: this },\n\t\t\t\t\t\to\n\t\t\t\t\t);\n\t\t\t\tif (\n\t\t\t\t\ta !== !1 ||\n\t\t\t\t\t![\n\t\t\t\t\t\t\"space\",\n\t\t\t\t\t\t\"hr\",\n\t\t\t\t\t\t\"heading\",\n\t\t\t\t\t\t\"code\",\n\t\t\t\t\t\t\"table\",\n\t\t\t\t\t\t\"blockquote\",\n\t\t\t\t\t\t\"list\",\n\t\t\t\t\t\t\"html\",\n\t\t\t\t\t\t\"def\",\n\t\t\t\t\t\t\"paragraph\",\n\t\t\t\t\t\t\"text\",\n\t\t\t\t\t].includes(o.type)\n\t\t\t\t) {\n\t\t\t\t\tn += a || \"\";\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet s = i;\n\t\t\tswitch (s.type) {\n\t\t\t\tcase \"space\": {\n\t\t\t\t\tn += this.renderer.space(s);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcase \"hr\": {\n\t\t\t\t\tn += this.renderer.hr(s);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcase \"heading\": {\n\t\t\t\t\tn += this.renderer.heading(s);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcase \"code\": {\n\t\t\t\t\tn += this.renderer.code(s);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcase \"table\": {\n\t\t\t\t\tn += this.renderer.table(s);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcase \"blockquote\": {\n\t\t\t\t\tn += this.renderer.blockquote(s);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcase \"list\": {\n\t\t\t\t\tn += this.renderer.list(s);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcase \"html\": {\n\t\t\t\t\tn += this.renderer.html(s);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcase \"def\": {\n\t\t\t\t\tn += this.renderer.def(s);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcase \"paragraph\": {\n\t\t\t\t\tn += this.renderer.paragraph(s);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcase \"text\": {\n\t\t\t\t\tlet o = s,\n\t\t\t\t\t\ta = this.renderer.text(o);\n\t\t\t\t\tfor (; r + 1 < e.length && e[r + 1].type === \"text\"; )\n\t\t\t\t\t\t(o = e[++r]),\n\t\t\t\t\t\t\t(a +=\n\t\t\t\t\t\t\t\t`\n` + this.renderer.text(o));\n\t\t\t\t\tt\n\t\t\t\t\t\t? (n += this.renderer.paragraph({\n\t\t\t\t\t\t\t\ttype: \"paragraph\",\n\t\t\t\t\t\t\t\traw: a,\n\t\t\t\t\t\t\t\ttext: a,\n\t\t\t\t\t\t\t\ttokens: [{ type: \"text\", raw: a, text: a, escaped: !0 }],\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t: (n += a);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\tlet o = 'Token with \"' + s.type + '\" type was not found.';\n\t\t\t\t\tif (this.options.silent) return console.error(o), \"\";\n\t\t\t\t\tthrow new Error(o);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn n;\n\t}\n\tparseInline(e, t = this.renderer) {\n\t\tlet n = \"\";\n\t\tfor (let r = 0; r < e.length; r++) {\n\t\t\tlet i = e[r];\n\t\t\tif (this.options.extensions?.renderers?.[i.type]) {\n\t\t\t\tlet o = this.options.extensions.renderers[i.type].call(\n\t\t\t\t\t{ parser: this },\n\t\t\t\t\ti\n\t\t\t\t);\n\t\t\t\tif (\n\t\t\t\t\to !== !1 ||\n\t\t\t\t\t![\n\t\t\t\t\t\t\"escape\",\n\t\t\t\t\t\t\"html\",\n\t\t\t\t\t\t\"link\",\n\t\t\t\t\t\t\"image\",\n\t\t\t\t\t\t\"strong\",\n\t\t\t\t\t\t\"em\",\n\t\t\t\t\t\t\"codespan\",\n\t\t\t\t\t\t\"br\",\n\t\t\t\t\t\t\"del\",\n\t\t\t\t\t\t\"text\",\n\t\t\t\t\t].includes(i.type)\n\t\t\t\t) {\n\t\t\t\t\tn += o || \"\";\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet s = i;\n\t\t\tswitch (s.type) {\n\t\t\t\tcase \"escape\": {\n\t\t\t\t\tn += t.text(s);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"html\": {\n\t\t\t\t\tn += t.html(s);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"link\": {\n\t\t\t\t\tn += t.link(s);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"image\": {\n\t\t\t\t\tn += t.image(s);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"strong\": {\n\t\t\t\t\tn += t.strong(s);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"em\": {\n\t\t\t\t\tn += t.em(s);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"codespan\": {\n\t\t\t\t\tn += t.codespan(s);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"br\": {\n\t\t\t\t\tn += t.br(s);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"del\": {\n\t\t\t\t\tn += t.del(s);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"text\": {\n\t\t\t\t\tn += t.text(s);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\tlet o = 'Token with \"' + s.type + '\" type was not found.';\n\t\t\t\t\tif (this.options.silent) return console.error(o), \"\";\n\t\t\t\t\tthrow new Error(o);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn n;\n\t}\n};\nvar S = class {\n\toptions;\n\tblock;\n\tconstructor(e) {\n\t\tthis.options = e || O;\n\t}\n\tstatic passThroughHooks = new Set([\n\t\t\"preprocess\",\n\t\t\"postprocess\",\n\t\t\"processAllTokens\",\n\t\t\"emStrongMask\",\n\t]);\n\tstatic passThroughHooksRespectAsync = new Set([\n\t\t\"preprocess\",\n\t\t\"postprocess\",\n\t\t\"processAllTokens\",\n\t]);\n\tpreprocess(e) {\n\t\treturn e;\n\t}\n\tpostprocess(e) {\n\t\treturn e;\n\t}\n\tprocessAllTokens(e) {\n\t\treturn e;\n\t}\n\temStrongMask(e) {\n\t\treturn e;\n\t}\n\tprovideLexer() {\n\t\treturn this.block ? b.lex : b.lexInline;\n\t}\n\tprovideParser() {\n\t\treturn this.block ? R.parse : R.parseInline;\n\t}\n};\nvar B = class {\n\tdefaults = L();\n\toptions = this.setOptions;\n\tparse = this.parseMarkdown(!0);\n\tparseInline = this.parseMarkdown(!1);\n\tParser = R;\n\tRenderer = P;\n\tTextRenderer = $;\n\tLexer = b;\n\tTokenizer = y;\n\tHooks = S;\n\tconstructor(...e) {\n\t\tthis.use(...e);\n\t}\n\twalkTokens(e, t) {\n\t\tlet n = [];\n\t\tfor (let r of e)\n\t\t\tswitch (((n = n.concat(t.call(this, r))), r.type)) {\n\t\t\t\tcase \"table\": {\n\t\t\t\t\tlet i = r;\n\t\t\t\t\tfor (let s of i.header) n = n.concat(this.walkTokens(s.tokens, t));\n\t\t\t\t\tfor (let s of i.rows)\n\t\t\t\t\t\tfor (let o of s) n = n.concat(this.walkTokens(o.tokens, t));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"list\": {\n\t\t\t\t\tlet i = r;\n\t\t\t\t\tn = n.concat(this.walkTokens(i.items, t));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\tlet i = r;\n\t\t\t\t\tthis.defaults.extensions?.childTokens?.[i.type]\n\t\t\t\t\t\t? this.defaults.extensions.childTokens[i.type].forEach((s) => {\n\t\t\t\t\t\t\t\tlet o = i[s].flat(1 / 0);\n\t\t\t\t\t\t\t\tn = n.concat(this.walkTokens(o, t));\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t: i.tokens && (n = n.concat(this.walkTokens(i.tokens, t)));\n\t\t\t\t}\n\t\t\t}\n\t\treturn n;\n\t}\n\tuse(...e) {\n\t\tlet t = this.defaults.extensions || { renderers: {}, childTokens: {} };\n\t\treturn (\n\t\t\te.forEach((n) => {\n\t\t\t\tlet r = { ...n };\n\t\t\t\tif (\n\t\t\t\t\t((r.async = this.defaults.async || r.async || !1),\n\t\t\t\t\tn.extensions &&\n\t\t\t\t\t\t(n.extensions.forEach((i) => {\n\t\t\t\t\t\t\tif (!i.name) throw new Error(\"extension name required\");\n\t\t\t\t\t\t\tif (\"renderer\" in i) {\n\t\t\t\t\t\t\t\tlet s = t.renderers[i.name];\n\t\t\t\t\t\t\t\ts\n\t\t\t\t\t\t\t\t\t? (t.renderers[i.name] = function (...o) {\n\t\t\t\t\t\t\t\t\t\t\tlet a = i.renderer.apply(this, o);\n\t\t\t\t\t\t\t\t\t\t\treturn a === !1 && (a = s.apply(this, o)), a;\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t: (t.renderers[i.name] = i.renderer);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (\"tokenizer\" in i) {\n\t\t\t\t\t\t\t\tif (!i.level || (i.level !== \"block\" && i.level !== \"inline\"))\n\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\"extension level must be 'block' or 'inline'\"\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tlet s = t[i.level];\n\t\t\t\t\t\t\t\ts ? s.unshift(i.tokenizer) : (t[i.level] = [i.tokenizer]),\n\t\t\t\t\t\t\t\t\ti.start &&\n\t\t\t\t\t\t\t\t\t\t(i.level === \"block\"\n\t\t\t\t\t\t\t\t\t\t\t? t.startBlock\n\t\t\t\t\t\t\t\t\t\t\t\t? t.startBlock.push(i.start)\n\t\t\t\t\t\t\t\t\t\t\t\t: (t.startBlock = [i.start])\n\t\t\t\t\t\t\t\t\t\t\t: i.level === \"inline\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t(t.startInline\n\t\t\t\t\t\t\t\t\t\t\t\t\t? t.startInline.push(i.start)\n\t\t\t\t\t\t\t\t\t\t\t\t\t: (t.startInline = [i.start])));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\"childTokens\" in i &&\n\t\t\t\t\t\t\t\ti.childTokens &&\n\t\t\t\t\t\t\t\t(t.childTokens[i.name] = i.childTokens);\n\t\t\t\t\t\t}),\n\t\t\t\t\t\t(r.extensions = t)),\n\t\t\t\t\tn.renderer)\n\t\t\t\t) {\n\t\t\t\t\tlet i = this.defaults.renderer || new P(this.defaults);\n\t\t\t\t\tfor (let s in n.renderer) {\n\t\t\t\t\t\tif (!(s in i)) throw new Error(`renderer '${s}' does not exist`);\n\t\t\t\t\t\tif ([\"options\", \"parser\"].includes(s)) continue;\n\t\t\t\t\t\tlet o = s,\n\t\t\t\t\t\t\ta = n.renderer[o],\n\t\t\t\t\t\t\tu = i[o];\n\t\t\t\t\t\ti[o] = (...p) => {\n\t\t\t\t\t\t\tlet c = a.apply(i, p);\n\t\t\t\t\t\t\treturn c === !1 && (c = u.apply(i, p)), c || \"\";\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tr.renderer = i;\n\t\t\t\t}\n\t\t\t\tif (n.tokenizer) {\n\t\t\t\t\tlet i = this.defaults.tokenizer || new y(this.defaults);\n\t\t\t\t\tfor (let s in n.tokenizer) {\n\t\t\t\t\t\tif (!(s in i)) throw new Error(`tokenizer '${s}' does not exist`);\n\t\t\t\t\t\tif ([\"options\", \"rules\", \"lexer\"].includes(s)) continue;\n\t\t\t\t\t\tlet o = s,\n\t\t\t\t\t\t\ta = n.tokenizer[o],\n\t\t\t\t\t\t\tu = i[o];\n\t\t\t\t\t\ti[o] = (...p) => {\n\t\t\t\t\t\t\tlet c = a.apply(i, p);\n\t\t\t\t\t\t\treturn c === !1 && (c = u.apply(i, p)), c;\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tr.tokenizer = i;\n\t\t\t\t}\n\t\t\t\tif (n.hooks) {\n\t\t\t\t\tlet i = this.defaults.hooks || new S();\n\t\t\t\t\tfor (let s in n.hooks) {\n\t\t\t\t\t\tif (!(s in i)) throw new Error(`hook '${s}' does not exist`);\n\t\t\t\t\t\tif ([\"options\", \"block\"].includes(s)) continue;\n\t\t\t\t\t\tlet o = s,\n\t\t\t\t\t\t\ta = n.hooks[o],\n\t\t\t\t\t\t\tu = i[o];\n\t\t\t\t\t\tS.passThroughHooks.has(s)\n\t\t\t\t\t\t\t? (i[o] = (p) => {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tthis.defaults.async &&\n\t\t\t\t\t\t\t\t\t\tS.passThroughHooksRespectAsync.has(s)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\treturn Promise.resolve(a.call(i, p)).then((f) =>\n\t\t\t\t\t\t\t\t\t\t\tu.call(i, f)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tlet c = a.call(i, p);\n\t\t\t\t\t\t\t\t\treturn u.call(i, c);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t: (i[o] = (...p) => {\n\t\t\t\t\t\t\t\t\tlet c = a.apply(i, p);\n\t\t\t\t\t\t\t\t\treturn c === !1 && (c = u.apply(i, p)), c;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tr.hooks = i;\n\t\t\t\t}\n\t\t\t\tif (n.walkTokens) {\n\t\t\t\t\tlet i = this.defaults.walkTokens,\n\t\t\t\t\t\ts = n.walkTokens;\n\t\t\t\t\tr.walkTokens = function (o) {\n\t\t\t\t\t\tlet a = [];\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\ta.push(s.call(this, o)), i && (a = a.concat(i.call(this, o))), a\n\t\t\t\t\t\t);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.defaults = { ...this.defaults, ...r };\n\t\t\t}),\n\t\t\tthis\n\t\t);\n\t}\n\tsetOptions(e) {\n\t\treturn (this.defaults = { ...this.defaults, ...e }), this;\n\t}\n\tlexer(e, t) {\n\t\treturn b.lex(e, t ?? this.defaults);\n\t}\n\tparser(e, t) {\n\t\treturn R.parse(e, t ?? this.defaults);\n\t}\n\tparseMarkdown(e) {\n\t\treturn (n, r) => {\n\t\t\tlet i = { ...r },\n\t\t\t\ts = { ...this.defaults, ...i },\n\t\t\t\to = this.onError(!!s.silent, !!s.async);\n\t\t\tif (this.defaults.async === !0 && i.async === !1)\n\t\t\t\treturn o(\n\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\"marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise.\"\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tif (typeof n > \"u\" || n === null)\n\t\t\t\treturn o(new Error(\"marked(): input parameter is undefined or null\"));\n\t\t\tif (typeof n != \"string\")\n\t\t\t\treturn o(\n\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\"marked(): input parameter is of type \" +\n\t\t\t\t\t\t\tObject.prototype.toString.call(n) +\n\t\t\t\t\t\t\t\", string expected\"\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\ts.hooks && ((s.hooks.options = s), (s.hooks.block = e));\n\t\t\tlet a = s.hooks ? s.hooks.provideLexer() : e ? b.lex : b.lexInline,\n\t\t\t\tu = s.hooks ? s.hooks.provideParser() : e ? R.parse : R.parseInline;\n\t\t\tif (s.async)\n\t\t\t\treturn Promise.resolve(s.hooks ? s.hooks.preprocess(n) : n)\n\t\t\t\t\t.then((p) => a(p, s))\n\t\t\t\t\t.then((p) => (s.hooks ? s.hooks.processAllTokens(p) : p))\n\t\t\t\t\t.then((p) =>\n\t\t\t\t\t\ts.walkTokens\n\t\t\t\t\t\t\t? Promise.all(this.walkTokens(p, s.walkTokens)).then(() => p)\n\t\t\t\t\t\t\t: p\n\t\t\t\t\t)\n\t\t\t\t\t.then((p) => u(p, s))\n\t\t\t\t\t.then((p) => (s.hooks ? s.hooks.postprocess(p) : p))\n\t\t\t\t\t.catch(o);\n\t\t\ttry {\n\t\t\t\ts.hooks && (n = s.hooks.preprocess(n));\n\t\t\t\tlet p = a(n, s);\n\t\t\t\ts.hooks && (p = s.hooks.processAllTokens(p)),\n\t\t\t\t\ts.walkTokens && this.walkTokens(p, s.walkTokens);\n\t\t\t\tlet c = u(p, s);\n\t\t\t\treturn s.hooks && (c = s.hooks.postprocess(c)), c;\n\t\t\t} catch (p) {\n\t\t\t\treturn o(p);\n\t\t\t}\n\t\t};\n\t}\n\tonError(e, t) {\n\t\treturn (n) => {\n\t\t\tif (\n\t\t\t\t((n.message += `\nPlease report this to https://github.com/markedjs/marked.`),\n\t\t\t\te)\n\t\t\t) {\n\t\t\t\tlet r =\n\t\t\t\t\t\"<p>An error occurred:</p><pre>\" + w(n.message + \"\", !0) + \"</pre>\";\n\t\t\t\treturn t ? Promise.resolve(r) : r;\n\t\t\t}\n\t\t\tif (t) return Promise.reject(n);\n\t\t\tthrow n;\n\t\t};\n\t}\n};\nvar _ = new B();\nfunction d(l, e) {\n\treturn _.parse(l, e);\n}\nd.options = d.setOptions = function (l) {\n\treturn _.setOptions(l), (d.defaults = _.defaults), G(d.defaults), d;\n};\nd.getDefaults = L;\nd.defaults = O;\nd.use = function (...l) {\n\treturn _.use(...l), (d.defaults = _.defaults), G(d.defaults), d;\n};\nd.walkTokens = function (l, e) {\n\treturn _.walkTokens(l, e);\n};\nd.parseInline = _.parseInline;\nd.Parser = R;\nd.parser = R.parse;\nd.Renderer = P;\nd.TextRenderer = $;\nd.Lexer = b;\nd.lexer = b.lex;\nd.Tokenizer = y;\nd.Hooks = S;\nd.parse = d;\nvar Dt = d.options,\n\tHt = d.setOptions,\n\tZt = d.use,\n\tGt = d.walkTokens,\n\tNt = d.parseInline,\n\tjt = d,\n\tFt = R.parse,\n\tQt = b.lex;\nexport {\n\tS as Hooks,\n\tb as Lexer,\n\tB as Marked,\n\tR as Parser,\n\tP as Renderer,\n\t$ as TextRenderer,\n\ty as Tokenizer,\n\tO as defaults,\n\tL as getDefaults,\n\tQt as lexer,\n\td as marked,\n\tDt as options,\n\tjt as parse,\n\tNt as parseInline,\n\tFt as parser,\n\tHt as setOptions,\n\tZt as use,\n\tGt as walkTokens,\n};\n//# sourceMappingURL=marked.esm.js.map\n","import { marked } from \"./lib/marked.js\";\n\nconst renderer = {\n\tlink(href, title, text) {\n\t\tconst link = marked.Renderer.prototype.link.call(this, href, title, text);\n\t\treturn link.replace(\"<a\", \"<a target='_blank' rel='noreferrer' \");\n\t},\n};\n\nmarked.use({\n\trenderer,\n});\n\nexport function parseMarkdown(md) {\n\t// Extraire le titre H1\n\tconst titleMatch = md.match(/^# (.*)/);\n\tconst title = titleMatch ? titleMatch[1].trim() : null;\n\n\t// Extraire le premier blockquote\n\tconst blockquoteMatch = md.match(/^>\\s*(.*)/gm);\n\tconst blockquote = blockquoteMatch ? blockquoteMatch.join(\"\\n\").trim() : null;\n\n\t// Trouver l'index de début du contenu des cartes après le titre H1 et le blockquote\n\tconst contentStartIndex = Math.max(\n\t\ttitleMatch ? md.indexOf(titleMatch[0]) + titleMatch[0].length : 0,\n\t\tblockquoteMatch ? md.indexOf(blockquote) + blockquote.length : 0\n\t);\n\n\t// Ignorer les lignes vides après le titre H1 et le blockquote\n\tconst startIndex = md.slice(contentStartIndex).match(/^\\s*\\n*/);\n\tconst startLine = startIndex\n\t\t? contentStartIndex + startIndex[0].length\n\t\t: contentStartIndex;\n\n\t// Traiter le contenu après le titre H1 et le blockquote\n\tconst content = md.slice(startLine).replace(/\\n\\n+/g, \"\\n\\n\").trim();\n\tconst cardsContent = content.split(\"\\n\\n\");\n\tconst cards = [];\n\tcardsContent.forEach((card, index) => {\n\t\tif (card.includes(\"\\n\")) {\n\t\t\tconst cardSubCards = card.split(\"\\n\");\n\t\t\tcards.push({ content: cardSubCards[0], id: index });\n\t\t\tcards.push({ content: cardSubCards[1], id: index });\n\t\t} else {\n\t\t\tcards.push({ content: card, id: index });\n\t\t}\n\t});\n\treturn { cards, title, blockquote };\n}\n","/**\n * textFit v2.3.1\n * Previously known as jQuery.textFit\n * 11/2014 by STRML (strml.github.com)\n * MIT License\n *\n * To use: textFit(document.getElementById('target-div'), options);\n *\n * Will make the *text* content inside a container scale to fit the container\n * The container is required to have a set width and height\n * Uses binary search to fit text with minimal layout calls.\n * Version 2.0 does not use jQuery.\n */\n\nvar defaultSettings = {\n\talignVert: false, // if true, textFit will align vertically using css tables\n\talignHoriz: false, // if true, textFit will set text-align: center\n\tmultiLine: false, // if true, textFit will not set white-space: no-wrap\n\tdetectMultiLine: true, // disable to turn off automatic multi-line sensing\n\tminFontSize: 6,\n\tmaxFontSize: 80,\n\treProcess: true, // if true, textFit will re-process already-fit nodes. Set to 'false' for better performance\n\twidthOnly: false, // if true, textFit will fit text to element width, regardless of text height\n\talignVertWithFlexbox: false, // if true, textFit will use flexbox for vertical alignment\n};\n\nexport function textFit(els, options) {\n\tif (!options) options = {};\n\n\t// Extend options.\n\tvar settings = {};\n\tfor (var key in defaultSettings) {\n\t\tif (options.hasOwnProperty(key)) {\n\t\t\tsettings[key] = options[key];\n\t\t} else {\n\t\t\tsettings[key] = defaultSettings[key];\n\t\t}\n\t}\n\n\t// Convert jQuery objects into arrays\n\tif (typeof els.toArray === \"function\") {\n\t\tels = els.toArray();\n\t}\n\n\t// Support passing a single el\n\tvar elType = Object.prototype.toString.call(els);\n\tif (\n\t\telType !== \"[object Array]\" &&\n\t\telType !== \"[object NodeList]\" &&\n\t\telType !== \"[object HTMLCollection]\"\n\t) {\n\t\tels = [els];\n\t}\n\n\t// Process each el we've passed.\n\tfor (var i = 0; i < els.length; i++) {\n\t\tprocessItem(els[i], settings);\n\t}\n}\n\n/**\n * The meat. Given an el, make the text inside it fit its parent.\n * @param  {DOMElement} el       Child el.\n * @param  {Object} settings     Options for fit.\n */\nfunction processItem(el, settings) {\n\tif (\n\t\t!isElement(el) ||\n\t\t(!settings.reProcess && el.getAttribute(\"textFitted\"))\n\t) {\n\t\treturn false;\n\t}\n\n\t// Set textFitted attribute so we know this was processed.\n\tif (!settings.reProcess) {\n\t\tel.setAttribute(\"textFitted\", 1);\n\t}\n\n\tvar innerSpan, originalHeight, originalHTML, originalWidth;\n\tvar low, mid, high;\n\n\t// Get element data.\n\toriginalHTML = el.innerHTML;\n\toriginalWidth = innerWidth(el);\n\toriginalHeight = innerHeight(el);\n\n\t// Don't process if we can't find box dimensions\n\tif (!originalWidth || (!settings.widthOnly && !originalHeight)) {\n\t\tif (!settings.widthOnly)\n\t\t\tthrow new Error(\n\t\t\t\t\"Set a static height and width on the target element \" +\n\t\t\t\t\tel.outerHTML +\n\t\t\t\t\t\" before using textFit!\",\n\t\t\t);\n\t\telse\n\t\t\tthrow new Error(\n\t\t\t\t\"Set a static width on the target element \" +\n\t\t\t\t\tel.outerHTML +\n\t\t\t\t\t\" before using textFit!\",\n\t\t\t);\n\t}\n\n\t// Add textFitted span inside this container.\n\tif (originalHTML.indexOf(\"textFitted\") === -1) {\n\t\tinnerSpan = document.createElement(\"span\");\n\t\tinnerSpan.className = \"textFitted\";\n\t\t// Inline block ensure it takes on the size of its contents, even if they are enclosed\n\t\t// in other tags like <p>\n\t\tinnerSpan.style[\"display\"] = \"inline-block\";\n\t\tinnerSpan.innerHTML = originalHTML;\n\t\tel.innerHTML = \"\";\n\t\tel.appendChild(innerSpan);\n\t} else {\n\t\t// Reprocessing.\n\t\tinnerSpan = el.querySelector(\"span.textFitted\");\n\t\t// Remove vertical align if we're reprocessing.\n\t\tif (hasClass(innerSpan, \"textFitAlignVert\")) {\n\t\t\tinnerSpan.className = innerSpan.className.replace(\"textFitAlignVert\", \"\");\n\t\t\tinnerSpan.style[\"height\"] = \"\";\n\t\t\tel.className.replace(\"textFitAlignVertFlex\", \"\");\n\t\t}\n\t}\n\n\t// Prepare & set alignment\n\tif (settings.alignHoriz) {\n\t\tel.style[\"text-align\"] = \"center\";\n\t\tinnerSpan.style[\"text-align\"] = \"center\";\n\t}\n\n\t// Check if this string is multiple lines\n\t// Not guaranteed to always work if you use wonky line-heights\n\tvar multiLine = settings.multiLine;\n\tif (\n\t\tsettings.detectMultiLine &&\n\t\t!multiLine &&\n\t\tinnerSpan.getBoundingClientRect().height >=\n\t\t\tparseInt(window.getComputedStyle(innerSpan)[\"font-size\"], 10) * 2\n\t) {\n\t\tmultiLine = true;\n\t}\n\n\t// If we're not treating this as a multiline string, don't let it wrap.\n\tif (!multiLine) {\n\t\tel.style[\"white-space\"] = \"nowrap\";\n\t}\n\n\tlow = settings.minFontSize;\n\thigh = settings.maxFontSize;\n\n\t// Binary search for highest best fit\n\tvar size = low;\n\twhile (low <= high) {\n\t\tmid = (high + low) >> 1;\n\t\tinnerSpan.style.fontSize = mid + \"px\";\n\t\tvar innerSpanBoundingClientRect = innerSpan.getBoundingClientRect();\n\t\tif (\n\t\t\tinnerSpanBoundingClientRect.width <= originalWidth &&\n\t\t\t(settings.widthOnly ||\n\t\t\t\tinnerSpanBoundingClientRect.height <= originalHeight)\n\t\t) {\n\t\t\tsize = mid;\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid - 1;\n\t\t}\n\t\t// await injection point\n\t}\n\t// found, updating font if differs:\n\tif (innerSpan.style.fontSize != size + \"px\")\n\t\tinnerSpan.style.fontSize = size + \"px\";\n\n\t// Our height is finalized. If we are aligning vertically, set that up.\n\tif (settings.alignVert) {\n\t\taddStyleSheet();\n\t\tvar height = innerSpan.scrollHeight;\n\t\tif (window.getComputedStyle(el)[\"position\"] === \"static\") {\n\t\t\tel.style[\"position\"] = \"relative\";\n\t\t}\n\t\tif (!hasClass(innerSpan, \"textFitAlignVert\")) {\n\t\t\tinnerSpan.className = innerSpan.className + \" textFitAlignVert\";\n\t\t}\n\t\tinnerSpan.style[\"height\"] = height + \"px\";\n\t\tif (\n\t\t\tsettings.alignVertWithFlexbox &&\n\t\t\t!hasClass(el, \"textFitAlignVertFlex\")\n\t\t) {\n\t\t\tel.className = el.className + \" textFitAlignVertFlex\";\n\t\t}\n\t}\n}\n\n// Calculate height without padding.\nfunction innerHeight(el) {\n\tvar style = window.getComputedStyle(el, null);\n\treturn (\n\t\tel.getBoundingClientRect().height -\n\t\tparseInt(style.getPropertyValue(\"padding-top\"), 10) -\n\t\tparseInt(style.getPropertyValue(\"padding-bottom\"), 10)\n\t);\n}\n\n// Calculate width without padding.\nfunction innerWidth(el) {\n\tvar style = window.getComputedStyle(el, null);\n\treturn (\n\t\tel.getBoundingClientRect().width -\n\t\tparseInt(style.getPropertyValue(\"padding-left\"), 10) -\n\t\tparseInt(style.getPropertyValue(\"padding-right\"), 10)\n\t);\n}\n\n//Returns true if it is a DOM element\nfunction isElement(o) {\n\treturn typeof HTMLElement === \"object\"\n\t\t? o instanceof HTMLElement //DOM2\n\t\t: o &&\n\t\t\t\ttypeof o === \"object\" &&\n\t\t\t\to !== null &&\n\t\t\t\to.nodeType === 1 &&\n\t\t\t\ttypeof o.nodeName === \"string\";\n}\n\nfunction hasClass(element, cls) {\n\treturn (\" \" + element.className + \" \").indexOf(\" \" + cls + \" \") > -1;\n}\n\n// Better than a stylesheet dependency\nfunction addStyleSheet() {\n\tif (document.getElementById(\"textFitStyleSheet\")) return;\n\tvar style = [\n\t\t\".textFitAlignVert{\",\n\t\t\"position: absolute;\",\n\t\t\"top: 0; right: 0; bottom: 0; left: 0;\",\n\t\t\"margin: auto;\",\n\t\t\"display: flex;\",\n\t\t\"justify-content: center;\",\n\t\t\"flex-direction: column;\",\n\t\t\"}\",\n\t\t\".textFitAlignVertFlex{\",\n\t\t\"display: flex;\",\n\t\t\"}\",\n\t\t\".textFitAlignVertFlex .textFitAlignVert{\",\n\t\t\"position: static;\",\n\t\t\"}\",\n\t].join(\"\");\n\n\tvar css = document.createElement(\"style\");\n\tcss.type = \"text/css\";\n\tcss.id = \"textFitStyleSheet\";\n\tcss.innerHTML = style;\n\tdocument.body.appendChild(css);\n}\n","import { parseMarkdown } from \"./parseMarkdown.mjs\";\nimport { marked } from \"./lib/marked.js\";\nimport { textFit } from \"./lib/textFit.js\";\nimport { backImage } from \"./defaultContent.mjs\";\nimport { duplicateUniqueCards } from \"./utils/arrays.mjs\";\n\nlet sound;\n\nexport const Memory = {\n\tinit: function (md) {\n\t\tconst memoryInfo = parseMarkdown(md);\n\t\tconst cards = memoryInfo.cards;\n\t\tif (memoryInfo.title) {\n\t\t\tdocument.title = memoryInfo.title;\n\t\t\tconst h1 = document.querySelector(\"body > h1\")\n\t\t\t\t? document.querySelector(\"body > h1\")\n\t\t\t\t: document.createElement(\"h1\");\n\t\t\th1.textContent = memoryInfo.title;\n\t\t\tdocument.body.insertBefore(h1, document.querySelector(\".wrap\"));\n\t\t} else {\n\t\t\tconst h1 = document.querySelector(\"body > h1\");\n\t\t\tif (h1) h1.remove();\n\t\t}\n\t\tif (memoryInfo.blockquote) {\n\t\t\tconst div = document.querySelector(\".instructions\")\n\t\t\t\t? document.querySelector(\".instructions\")\n\t\t\t\t: document.createElement(\"div\");\n\t\t\tdiv.className = \"instructions\";\n\t\t\tdiv.innerHTML = marked.parse(memoryInfo.blockquote);\n\t\t\tconst h1 = document.querySelector(\"body > h1\");\n\t\t\tif (h1) {\n\t\t\t\th1.insertAdjacentElement(\"afterend\", div);\n\t\t\t} else {\n\t\t\t\tdocument.body.insertBefore(div, document.querySelector(\".wrap\"));\n\t\t\t}\n\t\t} else {\n\t\t\tconst div = document.querySelector(\".instructions\");\n\t\t\tif (div) div.remove();\n\t\t}\n\t\tthis.game = document.querySelector(\".game\");\n\t\tthis.modal = document.querySelector(\".modal\");\n\t\tthis.overlay = document.querySelector(\".modal-overlay\");\n\t\tthis.restartButton = document.querySelector(\"button.restart\");\n\t\tthis.cardsArray = duplicateUniqueCards(cards);\n\t\tthis.shuffleCards(this.cardsArray);\n\t\tthis.setup();\n\t},\n\n\tshuffleCards: function (cardsArray) {\n\t\tif (\n\t\t\tdocument.querySelector(\".editor-wrapper\") &&\n\t\t\t!document.body.classList.contains(\"mouseOutEditor\")\n\t\t) {\n\t\t\t// En mode édition, ne pas mélanger les cartes\n\t\t\tthis.cards = cardsArray;\n\t\t} else {\n\t\t\tthis.cards = this.shuffle(cardsArray);\n\t\t}\n\t},\n\n\tsetup: function () {\n\t\tthis.html = this.buildHTML();\n\t\tthis.game.innerHTML = this.html;\n\t\tthis.memoryCards = document.querySelectorAll(\".card\");\n\t\tthis.paused = false;\n\t\tthis.guess = null;\n\t\tthis.binding();\n\t\tthis.resize();\n\t},\n\n\tresize: function () {\n\t\tthis.frontCards = document.querySelectorAll(\".card .front\");\n\t\tthis.frontCards.forEach((frontCard) => {\n\t\t\t// Ajustement automatique de la taille de la police avec textFit : seulement pour le contenu texte, et pas pour les images\n\t\t\tif (!frontCard.innerHTML.includes(\"<img\")) {\n\t\t\t\ttextFit(frontCard, {\n\t\t\t\t\treProcess: true,\n\t\t\t\t\tmultiline: true,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\tbinding: function () {\n\t\tconst self = this;\n\t\tthis.memoryCards.forEach(function (card) {\n\t\t\tcard.addEventListener(\"click\", function () {\n\t\t\t\tself.cardClicked.call(self, card);\n\t\t\t});\n\t\t});\n\t\tthis.restartButton.addEventListener(\"click\", function () {\n\t\t\tself.reset.call(self);\n\t\t});\n\t},\n\n\tcardClicked: function (card) {\n\t\tconst $card = card;\n\t\tconst insideElement = $card.querySelector(\".inside\");\n\t\t// Gestion des éléments audio\n\t\tconst audio = insideElement.querySelector(\"div[data-audio-src]\");\n\t\tif (sound) {\n\t\t\tsound.pause();\n\t\t\tsound.currentTime = 0;\n\t\t}\n\t\tif (audio) {\n\t\t\tsound = new Audio(audio.getAttribute(\"data-audio-src\"));\n\t\t\tsound.play();\n\t\t}\n\t\tif (\n\t\t\tinsideElement &&\n\t\t\t!this.paused &&\n\t\t\t!insideElement.classList.contains(\"matched\") &&\n\t\t\t!insideElement.classList.contains(\"picked\")\n\t\t) {\n\t\t\tinsideElement.classList.add(\"picked\");\n\t\t\tif (!this.guess) {\n\t\t\t\tthis.guess = $card.getAttribute(\"data-id\");\n\t\t\t} else if (\n\t\t\t\tthis.guess == $card.getAttribute(\"data-id\") &&\n\t\t\t\t!$card.classList.contains(\"picked\")\n\t\t\t) {\n\t\t\t\tdocument.querySelectorAll(\".picked\").forEach(function (pickedCard) {\n\t\t\t\t\tpickedCard.classList.add(\"matched\");\n\t\t\t\t});\n\t\t\t\tthis.guess = null;\n\t\t\t} else {\n\t\t\t\tthis.guess = null;\n\t\t\t\tthis.paused = true;\n\t\t\t\tconst self = this;\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tdocument.querySelectorAll(\".picked\").forEach(function (pickedCard) {\n\t\t\t\t\t\tpickedCard.classList.remove(\"picked\");\n\t\t\t\t\t});\n\t\t\t\t\tself.paused = false;\n\t\t\t\t}, 600);\n\t\t\t}\n\t\t\tif (\n\t\t\t\tdocument.querySelectorAll(\".matched\").length ==\n\t\t\t\tdocument.querySelectorAll(\".card\").length\n\t\t\t) {\n\t\t\t\tthis.win();\n\t\t\t}\n\t\t}\n\t},\n\n\twin: function () {\n\t\tthis.paused = true;\n\t\tconst self = this;\n\t\tsetTimeout(function () {\n\t\t\tself.showModal();\n\t\t}, 1000);\n\t},\n\n\tshowModal: function () {\n\t\tthis.overlay.style.display = \"block\";\n\t\tthis.modal.style.display = \"block\";\n\t},\n\n\thideModal: function () {\n\t\tthis.overlay.style.display = \"none\";\n\t\tthis.modal.style.display = \"none\";\n\t},\n\n\treset: function () {\n\t\tthis.hideModal();\n\t\tthis.shuffleCards(this.cardsArray);\n\t\tthis.setup();\n\t\tthis.game.style.display = \"block\";\n\t},\n\n\t// Fisher--Yates Algorithm -- https://bost.ocks.org/mike/shuffle/\n\tshuffle: function (array) {\n\t\tlet counter = array.length;\n\t\tlet temp;\n\t\tlet index;\n\t\t// While there are elements in the array\n\t\twhile (counter > 0) {\n\t\t\t// Pick a random index\n\t\t\tindex = Math.floor(Math.random() * counter);\n\t\t\t// Decrease counter by 1\n\t\t\tcounter--;\n\t\t\t// And swap the last element with it\n\t\t\ttemp = array[counter];\n\t\t\tarray[counter] = array[index];\n\t\t\tarray[index] = temp;\n\t\t}\n\t\treturn array;\n\t},\n\n\tbuildHTML: function () {\n\t\tlet frag = \"\";\n\n\t\tthis.cards.forEach(function (card) {\n\t\t\tlet cardContent = \"\";\n\t\t\t// Gestion des éléments audio\n\t\t\tif (card.content.startsWith(\"audio:\")) {\n\t\t\t\tconst audioURL = card.content.replace(\"audio:\", \"\").trim();\n\t\t\t\tcardContent = `<div data-audio-src=\"${audioURL}\">🔊</div>`;\n\t\t\t} else {\n\t\t\t\tcardContent = marked.parseInline(card.content);\n\t\t\t}\n\t\t\tfrag += `<div class=\"card\" data-id=\"${card.id}\"><div class=\"inside\"><div class=\"front\">${cardContent}</div><div class=\"back\"><img src=\"${backImage}\" alt=\"\" /></div></div></div>`;\n\t\t});\n\t\treturn frag;\n\t},\n};\n","export function duplicateUniqueCards(cards) {\n\t// Compter les occurrences de chaque id\n\tconst counts = cards.reduce((acc, card) => {\n\t\tacc[card.id] = (acc[card.id] || 0) + 1;\n\t\treturn acc;\n\t}, {});\n\n\t// Filtrer les cartes uniques\n\tconst uniques = cards.filter((card) => counts[card.id] === 1);\n\n\t// Retourner le tableau original + duplication des uniques\n\treturn cards.concat(uniques);\n}\n","const globalWindow = window;\n\nexport function CodeJar(editor, highlight, opt = {}) {\n\tconst options = {\n\t\ttab: \"\\t\",\n\t\tindentOn: /[({\\[]$/,\n\t\tmoveToNewLine: /^[)}\\]]/,\n\t\tspellcheck: false,\n\t\tcatchTab: true,\n\t\tpreserveIdent: true,\n\t\taddClosing: true,\n\t\thistory: true,\n\t\twindow: globalWindow,\n\t\t...opt,\n\t};\n\n\tconst window = options.window;\n\tconst document = window.document;\n\n\tconst listeners = [];\n\tconst history = [];\n\tlet at = -1;\n\tlet focus = false;\n\tlet onUpdate = () => void 0;\n\tlet prev; // code content prior keydown event\n\n\teditor.setAttribute(\"contenteditable\", \"plaintext-only\");\n\teditor.setAttribute(\"spellcheck\", options.spellcheck ? \"true\" : \"false\");\n\teditor.style.outline = \"none\";\n\teditor.style.overflowWrap = \"break-word\";\n\teditor.style.overflowY = \"auto\";\n\teditor.style.whiteSpace = \"pre-wrap\";\n\n\tconst doHighlight = (editor, pos) => {\n\t\thighlight(editor, pos);\n\t};\n\n\tconst matchFirefoxVersion =\n\t\twindow.navigator.userAgent.match(/Firefox\\/([0-9]+)\\./);\n\tconst firefoxVersion = matchFirefoxVersion\n\t\t? parseInt(matchFirefoxVersion[1])\n\t\t: 0;\n\tlet isLegacy = false; // true if plaintext-only is not supported\n\tif (editor.contentEditable !== \"plaintext-only\" || firefoxVersion >= 136)\n\t\tisLegacy = true;\n\tif (isLegacy) editor.setAttribute(\"contenteditable\", \"true\");\n\n\tconst debounceHighlight = debounce(() => {\n\t\tconst pos = save();\n\t\tdoHighlight(editor, pos);\n\t\trestore(pos);\n\t}, 30);\n\n\tlet recording = false;\n\tconst shouldRecord = (event) => {\n\t\treturn (\n\t\t\t!isUndo(event) &&\n\t\t\t!isRedo(event) &&\n\t\t\tevent.key !== \"Meta\" &&\n\t\t\tevent.key !== \"Control\" &&\n\t\t\tevent.key !== \"Alt\" &&\n\t\t\t!event.key.startsWith(\"Arrow\")\n\t\t);\n\t};\n\tconst debounceRecordHistory = debounce((event) => {\n\t\tif (shouldRecord(event)) {\n\t\t\trecordHistory();\n\t\t\trecording = false;\n\t\t}\n\t}, 300);\n\n\tconst on = (type, fn) => {\n\t\tlisteners.push([type, fn]);\n\t\teditor.addEventListener(type, fn);\n\t};\n\n\ton(\"keydown\", (event) => {\n\t\tif (event.defaultPrevented) return;\n\n\t\tprev = toString();\n\t\tif (options.preserveIdent) handleNewLine(event);\n\t\telse legacyNewLineFix(event);\n\t\tif (options.catchTab) handleTabCharacters(event);\n\t\tif (options.addClosing) handleSelfClosingCharacters(event);\n\t\tif (options.history) {\n\t\t\thandleUndoRedo(event);\n\t\t\tif (shouldRecord(event) && !recording) {\n\t\t\t\trecordHistory();\n\t\t\t\trecording = true;\n\t\t\t}\n\t\t}\n\t\tif (isLegacy && !isCopy(event)) restore(save());\n\t});\n\n\ton(\"keyup\", (event) => {\n\t\tif (event.defaultPrevented) return;\n\t\tif (event.isComposing) return;\n\n\t\tif (prev !== toString()) debounceHighlight();\n\t\tdebounceRecordHistory(event);\n\t\tonUpdate(toString());\n\t});\n\n\ton(\"focus\", (_event) => {\n\t\tfocus = true;\n\t});\n\n\ton(\"blur\", (_event) => {\n\t\tfocus = false;\n\t});\n\n\ton(\"paste\", (event) => {\n\t\trecordHistory();\n\t\thandlePaste(event);\n\t\trecordHistory();\n\t\tonUpdate(toString());\n\t});\n\n\ton(\"cut\", (event) => {\n\t\trecordHistory();\n\t\thandleCut(event);\n\t\trecordHistory();\n\t\tonUpdate(toString());\n\t});\n\n\tfunction save() {\n\t\tconst s = getSelection();\n\t\tconst pos = { start: 0, end: 0, dir: undefined };\n\n\t\tlet { anchorNode, anchorOffset, focusNode, focusOffset } = s;\n\t\tif (!anchorNode || !focusNode) throw \"error1\";\n\n\t\t// If the anchor and focus are the editor element, return either a full\n\t\t// highlight or a start/end cursor position depending on the selection\n\t\tif (anchorNode === editor && focusNode === editor) {\n\t\t\tpos.start =\n\t\t\t\tanchorOffset > 0 && editor.textContent ? editor.textContent.length : 0;\n\t\t\tpos.end =\n\t\t\t\tfocusOffset > 0 && editor.textContent ? editor.textContent.length : 0;\n\t\t\tpos.dir = focusOffset >= anchorOffset ? \"->\" : \"<-\";\n\t\t\treturn pos;\n\t\t}\n\n\t\t// Selection anchor and focus are expected to be text nodes,\n\t\t// so normalize them.\n\t\tif (anchorNode.nodeType === Node.ELEMENT_NODE) {\n\t\t\tconst node = document.createTextNode(\"\");\n\t\t\tanchorNode.insertBefore(node, anchorNode.childNodes[anchorOffset]);\n\t\t\tanchorNode = node;\n\t\t\tanchorOffset = 0;\n\t\t}\n\t\tif (focusNode.nodeType === Node.ELEMENT_NODE) {\n\t\t\tconst node = document.createTextNode(\"\");\n\t\t\tfocusNode.insertBefore(node, focusNode.childNodes[focusOffset]);\n\t\t\tfocusNode = node;\n\t\t\tfocusOffset = 0;\n\t\t}\n\n\t\tvisit(editor, (el) => {\n\t\t\tif (el === anchorNode && el === focusNode) {\n\t\t\t\tpos.start += anchorOffset;\n\t\t\t\tpos.end += focusOffset;\n\t\t\t\tpos.dir = anchorOffset <= focusOffset ? \"->\" : \"<-\";\n\t\t\t\treturn \"stop\";\n\t\t\t}\n\n\t\t\tif (el === anchorNode) {\n\t\t\t\tpos.start += anchorOffset;\n\t\t\t\tif (!pos.dir) {\n\t\t\t\t\tpos.dir = \"->\";\n\t\t\t\t} else {\n\t\t\t\t\treturn \"stop\";\n\t\t\t\t}\n\t\t\t} else if (el === focusNode) {\n\t\t\t\tpos.end += focusOffset;\n\t\t\t\tif (!pos.dir) {\n\t\t\t\t\tpos.dir = \"<-\";\n\t\t\t\t} else {\n\t\t\t\t\treturn \"stop\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (el.nodeType === Node.TEXT_NODE) {\n\t\t\t\tif (pos.dir != \"->\") pos.start += el.nodeValue.length;\n\t\t\t\tif (pos.dir != \"<-\") pos.end += el.nodeValue.length;\n\t\t\t}\n\t\t});\n\n\t\teditor.normalize(); // collapse empty text nodes\n\t\treturn pos;\n\t}\n\n\tfunction restore(pos) {\n\t\tconst s = getSelection();\n\t\tlet startNode,\n\t\t\tstartOffset = 0;\n\t\tlet endNode,\n\t\t\tendOffset = 0;\n\n\t\tif (!pos.dir) pos.dir = \"->\";\n\t\tif (pos.start < 0) pos.start = 0;\n\t\tif (pos.end < 0) pos.end = 0;\n\n\t\t// Flip start and end if the direction reversed\n\t\tif (pos.dir == \"<-\") {\n\t\t\tconst { start, end } = pos;\n\t\t\tpos.start = end;\n\t\t\tpos.end = start;\n\t\t}\n\n\t\tlet current = 0;\n\n\t\tvisit(editor, (el) => {\n\t\t\tif (el.nodeType !== Node.TEXT_NODE) return;\n\n\t\t\tconst len = (el.nodeValue || \"\").length;\n\t\t\tif (current + len > pos.start) {\n\t\t\t\tif (!startNode) {\n\t\t\t\t\tstartNode = el;\n\t\t\t\t\tstartOffset = pos.start - current;\n\t\t\t\t}\n\t\t\t\tif (current + len > pos.end) {\n\t\t\t\t\tendNode = el;\n\t\t\t\t\tendOffset = pos.end - current;\n\t\t\t\t\treturn \"stop\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tcurrent += len;\n\t\t});\n\n\t\tif (!startNode)\n\t\t\t(startNode = editor), (startOffset = editor.childNodes.length);\n\t\tif (!endNode) (endNode = editor), (endOffset = editor.childNodes.length);\n\n\t\t// Flip back the selection\n\t\tif (pos.dir == \"<-\") {\n\t\t\t[startNode, startOffset, endNode, endOffset] = [\n\t\t\t\tendNode,\n\t\t\t\tendOffset,\n\t\t\t\tstartNode,\n\t\t\t\tstartOffset,\n\t\t\t];\n\t\t}\n\n\t\t{\n\t\t\t// If nodes not editable, create a text node.\n\t\t\tconst startEl = uneditable(startNode);\n\t\t\tif (startEl) {\n\t\t\t\tconst node = document.createTextNode(\"\");\n\t\t\t\tif (startEl.parentNode) {\n\t\t\t\t\tstartEl.parentNode.insertBefore(node, startEl);\n\t\t\t\t}\n\t\t\t\tstartNode = node;\n\t\t\t\tstartOffset = 0;\n\t\t\t}\n\t\t\tconst endEl = uneditable(endNode);\n\t\t\tif (endEl) {\n\t\t\t\tconst node = document.createTextNode(\"\");\n\t\t\t\tif (endEl.parentNode) {\n\t\t\t\t\tendEl.parentNode.insertBefore(node, endEl);\n\t\t\t\t}\n\t\t\t\tendNode = node;\n\t\t\t\tendOffset = 0;\n\t\t\t}\n\t\t}\n\n\t\ts.setBaseAndExtent(startNode, startOffset, endNode, endOffset);\n\t\teditor.normalize(); // collapse empty text nodes\n\t}\n\n\tfunction uneditable(node) {\n\t\twhile (node && node !== editor) {\n\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\tconst el = node;\n\t\t\t\tif (el.getAttribute(\"contenteditable\") == \"false\") {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\t\t\t}\n\t\t\tnode = node.parentNode;\n\t\t}\n\t}\n\n\tfunction beforeCursor() {\n\t\tconst s = getSelection();\n\t\tconst r0 = s.getRangeAt(0);\n\t\tconst r = document.createRange();\n\t\tr.selectNodeContents(editor);\n\t\tr.setEnd(r0.startContainer, r0.startOffset);\n\t\treturn r.toString();\n\t}\n\n\tfunction afterCursor() {\n\t\tconst s = getSelection();\n\t\tconst r0 = s.getRangeAt(0);\n\t\tconst r = document.createRange();\n\t\tr.selectNodeContents(editor);\n\t\tr.setStart(r0.endContainer, r0.endOffset);\n\t\treturn r.toString();\n\t}\n\n\tfunction handleNewLine(event) {\n\t\tif (event.key === \"Enter\") {\n\t\t\tconst before = beforeCursor();\n\t\t\tconst after = afterCursor();\n\n\t\t\tlet [padding] = findPadding(before);\n\t\t\tlet newLinePadding = padding;\n\n\t\t\t// If last symbol is \"{\" ident new line\n\t\t\tif (options.indentOn.test(before)) {\n\t\t\t\tnewLinePadding += options.tab;\n\t\t\t}\n\n\t\t\t// Preserve padding\n\t\t\tif (newLinePadding.length > 0) {\n\t\t\t\tpreventDefault(event);\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tinsert(\"\\n\" + newLinePadding);\n\t\t\t} else {\n\t\t\t\tlegacyNewLineFix(event);\n\t\t\t}\n\n\t\t\t// Place adjacent \"}\" on next line\n\t\t\tif (newLinePadding !== padding && options.moveToNewLine.test(after)) {\n\t\t\t\tconst pos = save();\n\t\t\t\tinsert(\"\\n\" + padding);\n\t\t\t\trestore(pos);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction legacyNewLineFix(event) {\n\t\t// Firefox does not support plaintext-only mode\n\t\t// and puts <div><br></div> on Enter. Let's help.\n\t\tif (isLegacy && event.key === \"Enter\") {\n\t\t\tpreventDefault(event);\n\t\t\tevent.stopPropagation();\n\t\t\tif (afterCursor() == \"\") {\n\t\t\t\tinsert(\"\\n \");\n\t\t\t\tconst pos = save();\n\t\t\t\tpos.start = --pos.end;\n\t\t\t\trestore(pos);\n\t\t\t} else {\n\t\t\t\tinsert(\"\\n\");\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleSelfClosingCharacters(event) {\n\t\tconst open = `([{'\"`;\n\t\tconst close = `)]}'\"`;\n\t\tif (open.includes(event.key)) {\n\t\t\tpreventDefault(event);\n\t\t\tconst pos = save();\n\t\t\tconst wrapText = pos.start == pos.end ? \"\" : getSelection().toString();\n\t\t\tconst text = event.key + wrapText + close[open.indexOf(event.key)];\n\t\t\tinsert(text);\n\t\t\tpos.start++;\n\t\t\tpos.end++;\n\t\t\trestore(pos);\n\t\t}\n\t}\n\n\tfunction handleTabCharacters(event) {\n\t\tif (event.key === \"Tab\") {\n\t\t\tpreventDefault(event);\n\t\t\tif (event.shiftKey) {\n\t\t\t\tconst before = beforeCursor();\n\t\t\t\tlet [padding, start] = findPadding(before);\n\t\t\t\tif (padding.length > 0) {\n\t\t\t\t\tconst pos = save();\n\t\t\t\t\t// Remove full length tab or just remaining padding\n\t\t\t\t\tconst len = Math.min(options.tab.length, padding.length);\n\t\t\t\t\trestore({ start, end: start + len });\n\t\t\t\t\tdocument.execCommand(\"delete\");\n\t\t\t\t\tpos.start -= len;\n\t\t\t\t\tpos.end -= len;\n\t\t\t\t\trestore(pos);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinsert(options.tab);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleUndoRedo(event) {\n\t\tif (isUndo(event)) {\n\t\t\tpreventDefault(event);\n\t\t\tat--;\n\t\t\tconst record = history[at];\n\t\t\tif (record) {\n\t\t\t\teditor.innerHTML = record.html;\n\t\t\t\trestore(record.pos);\n\t\t\t}\n\t\t\tif (at < 0) at = 0;\n\t\t}\n\t\tif (isRedo(event)) {\n\t\t\tpreventDefault(event);\n\t\t\tat++;\n\t\t\tconst record = history[at];\n\t\t\tif (record) {\n\t\t\t\teditor.innerHTML = record.html;\n\t\t\t\trestore(record.pos);\n\t\t\t}\n\t\t\tif (at >= history.length) at--;\n\t\t}\n\t}\n\n\tfunction recordHistory() {\n\t\tif (!focus) return;\n\n\t\tconst html = editor.innerHTML;\n\t\tconst pos = save();\n\n\t\tconst lastRecord = history[at];\n\t\tif (lastRecord) {\n\t\t\tif (\n\t\t\t\tlastRecord.html === html &&\n\t\t\t\tlastRecord.pos.start === pos.start &&\n\t\t\t\tlastRecord.pos.end === pos.end\n\t\t\t)\n\t\t\t\treturn;\n\t\t}\n\n\t\tat++;\n\t\thistory[at] = { html, pos };\n\t\thistory.splice(at + 1);\n\n\t\tconst maxHistory = 300;\n\t\tif (at > maxHistory) {\n\t\t\tat = maxHistory;\n\t\t\thistory.splice(0, 1);\n\t\t}\n\t}\n\n\tfunction handlePaste(event) {\n\t\tif (event.defaultPrevented) return;\n\t\tpreventDefault(event);\n\t\tconst originalEvent =\n\t\t\tevent.originalEvent !== null && event.originalEvent !== undefined\n\t\t\t\t? event.originalEvent\n\t\t\t\t: event;\n\t\tconst text = originalEvent.clipboardData\n\t\t\t.getData(\"text/plain\")\n\t\t\t.replace(/\\r\\n?/g, \"\\n\");\n\t\tconst pos = save();\n\t\tinsert(text);\n\t\tdoHighlight(editor);\n\t\trestore({\n\t\t\tstart: Math.min(pos.start, pos.end) + text.length,\n\t\t\tend: Math.min(pos.start, pos.end) + text.length,\n\t\t\tdir: \"<-\",\n\t\t});\n\t}\n\n\tfunction handleCut(event) {\n\t\tconst pos = save();\n\t\tconst selection = getSelection();\n\t\tconst originalEvent =\n\t\t\tevent.originalEvent !== null && event.originalEvent !== undefined\n\t\t\t\t? event.originalEvent\n\t\t\t\t: event;\n\t\toriginalEvent.clipboardData.setData(\"text/plain\", selection.toString());\n\t\tdocument.execCommand(\"delete\");\n\t\tdoHighlight(editor);\n\t\trestore({\n\t\t\tstart: Math.min(pos.start, pos.end),\n\t\t\tend: Math.min(pos.start, pos.end),\n\t\t\tdir: \"<-\",\n\t\t});\n\t\tpreventDefault(event);\n\t}\n\n\tfunction visit(editor, visitor) {\n\t\tconst queue = [];\n\t\tif (editor.firstChild) queue.push(editor.firstChild);\n\t\tlet el = queue.pop();\n\t\twhile (el) {\n\t\t\tif (visitor(el) === \"stop\") break;\n\t\t\tif (el.nextSibling) queue.push(el.nextSibling);\n\t\t\tif (el.firstChild) queue.push(el.firstChild);\n\t\t\tel = queue.pop();\n\t\t}\n\t}\n\n\tfunction isCtrl(event) {\n\t\treturn event.metaKey || event.ctrlKey;\n\t}\n\n\tfunction isUndo(event) {\n\t\treturn isCtrl(event) && !event.shiftKey && getKeyCode(event) === \"Z\";\n\t}\n\n\tfunction isRedo(event) {\n\t\treturn isCtrl(event) && event.shiftKey && getKeyCode(event) === \"Z\";\n\t}\n\n\tfunction isCopy(event) {\n\t\treturn isCtrl(event) && getKeyCode(event) === \"C\";\n\t}\n\n\tfunction getKeyCode(event) {\n\t\tlet key = event.key || event.keyCode || event.which;\n\t\tif (!key) return undefined;\n\t\treturn (\n\t\t\ttypeof key === \"string\" ? key : String.fromCharCode(key)\n\t\t).toUpperCase();\n\t}\n\n\tfunction insert(text) {\n\t\ttext = text\n\t\t\t.replace(/&/g, \"&amp;\")\n\t\t\t.replace(/</g, \"&lt;\")\n\t\t\t.replace(/>/g, \"&gt;\")\n\t\t\t.replace(/\"/g, \"&quot;\")\n\t\t\t.replace(/'/g, \"&#039;\");\n\t\tdocument.execCommand(\"insertHTML\", false, text);\n\t}\n\n\tfunction debounce(cb, wait) {\n\t\tlet timeout = 0;\n\t\treturn (...args) => {\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = window.setTimeout(() => cb(...args), wait);\n\t\t};\n\t}\n\n\tfunction findPadding(text) {\n\t\t// Find beginning of previous line.\n\t\tlet i = text.length - 1;\n\t\twhile (i >= 0 && text[i] !== \"\\n\") i--;\n\t\ti++;\n\t\t// Find padding of the line.\n\t\tlet j = i;\n\t\twhile (j < text.length && /[ \\t]/.test(text[j])) j++;\n\t\treturn [text.substring(i, j) || \"\", i, j];\n\t}\n\n\tfunction toString() {\n\t\treturn editor.textContent || \"\";\n\t}\n\n\tfunction preventDefault(event) {\n\t\tevent.preventDefault();\n\t}\n\n\tfunction getSelection() {\n\t\t// @ts-ignore\n\t\treturn editor.getRootNode().getSelection();\n\t}\n\n\treturn {\n\t\tupdateOptions(newOptions) {\n\t\t\tObject.assign(options, newOptions);\n\t\t},\n\t\tupdateCode(code, callOnUpdate = true) {\n\t\t\teditor.textContent = code;\n\t\t\tdoHighlight(editor);\n\t\t\tcallOnUpdate && onUpdate(code);\n\t\t},\n\t\tonUpdate(callback) {\n\t\t\tonUpdate = callback;\n\t\t},\n\t\ttoString,\n\t\tsave,\n\t\trestore,\n\t\trecordHistory,\n\t\tdestroy() {\n\t\t\tfor (let [type, fn] of listeners) {\n\t\t\t\teditor.removeEventListener(type, fn);\n\t\t\t}\n\t\t},\n\t};\n}\n","import { Memory } from \"./gameLogic.mjs\";\nimport { defaultMD } from \"./defaultContent.mjs\";\nimport { CodeJar } from \"./lib/codejar.js\";\n\n// Fonction debounce pour gérer l'update des cards avec un délai\nfunction debounce(func, wait) {\n\tlet timeout;\n\treturn function (...args) {\n\t\tconst later = () => {\n\t\t\tclearTimeout(timeout);\n\t\t\tfunc(...args);\n\t\t};\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t};\n}\n\n// Fonction pour mettre à jour les cartes\nfunction updateCards() {\n\tconst editorElement = document.querySelector(\".editor\");\n\tconst md = editorElement.textContent;\n\tMemory.init(md);\n}\n\nfunction eventKeyUpDebounceUpdateCards() {\n\t// Utiliser debounce pour appeler updateCards avec un délai afin d'éviter un lag dans le cas d'un document long\n\tconst editorElement = document.querySelector(\".editor\");\n\tconst debouncedUpdateCards = debounce(() => updateCards(), 300);\n\teditorElement.addEventListener(\"keyup\", () => {\n\t\tdebouncedUpdateCards();\n\t});\n}\n\nconst highlightCode = (editor) => {\n\tlet code = editor.textContent;\n\n\t// On autorise l'utilisation de balises HTML\n\tcode = code\n\t\t.replace(/&/g, \"&amp;\")\n\t\t.replace(/</g, \"&lt;\")\n\t\t.replace(/>/g, \"&gt;\")\n\t\t.replace(/\"/g, \"&quot;\");\n\n\t// Coloration syntaxique pour les titres\n\tcode = code.replace(/^(#{1,6}) +(.*)/gm, (match, p1, p2) => {\n\t\tlet level = p1.length;\n\t\treturn `<span class=\"markdownTitles h${level}\">${p1} ${p2}</span>`;\n\t});\n\n\t// Coloration syntaxique pour le texte en gras\n\tcode = code.replace(\n\t\t/\\*\\*(\\w.*?)\\*\\*/g,\n\t\t'<span class=\"markdownBold\">**$1**</span>'\n\t);\n\tcode = code.replace(\n\t\t/__(\\w.*?)__/g,\n\t\t'<span class=\"markdownBold\">__$1__</span>'\n\t);\n\t// Coloration syntaxique pour le texte en italique\n\tcode = code.replace(\n\t\t/(?<!\\*)\\*(\\w.*?)\\*(?!\\*)/g,\n\t\t'<span class=\"markdownItalic\">*$1*</span>'\n\t);\n\tcode = code.replace(\n\t\t/(?<!_)_(\\w.*?)_(?!_)/g,\n\t\t'<span class=\"markdownItalic\">_$1_</span>'\n\t);\n\t// Coloration syntaxique pour les listes\n\tcode = code.replace(\n\t\t/^(\\s*)([-*]|\\d+\\.)(\\s)/gm,\n\t\t'<span class=\"markdownLists\">$1$2</span>$3'\n\t);\n\t// Coloration syntaxique pour les liens\n\tcode = code.replace(\n\t\t/(\\[.*?\\])\\((.*?)\\)/g,\n\t\t'<span class=\"markdownLinksText\">$1</span><span class=\"markdownLinksURL\">($2)</span>'\n\t);\n\n\t// Coloration syntaxique pour les tags html\n\tcode = code.replace(\n\t\t/(&lt;aside&gt;)(.*?)(&lt;\\/aside&gt;)/g,\n\t\t'<span class=\"markdownHTMLtag\">$1</span><span class=\"markdownHTMLtagContent\">$2</span><span class=\"markdownHTMLtag\">$3</span>'\n\t);\n\n\t// Coloration syntaxique pour les commentaires html\n\tcode = code.replace(\n\t\t/(&lt;!--.*?--&gt;)/g,\n\t\t'<span class=\"markdownHTMLcomment\">$1</span>'\n\t);\n\n\t// Coloration syntaxique pour les séparations\n\tcode = code.replaceAll(\"---\", '<span class=\"markdownSeparator\">---</span>');\n\n\teditor.innerHTML = code;\n};\n\nconst optionsCodeJar = {\n\taddClosing: false,\n\tspellCheck: true,\n\tpreserveIdent: false,\n\ttab: \"\\t\",\n};\n\nexport function initMarkdownEditor() {\n\tconst editorWrapper = document.createElement(\"div\");\n\teditorWrapper.className = \"editor-wrapper\";\n\tdocument.body.insertBefore(editorWrapper, document.body.firstChild);\n\tconst editor = document.createElement(\"div\");\n\teditor.className = \"editor\";\n\teditor.setAttribute(\n\t\t\"data-placeholder\",\n\t\t\"Éditez le Markdown ici pour créer votre propre Memory !\"\n\t);\n\tsetTimeout(() => {\n\t\tconst rulesReminder = `\n\n**Règle 1**\nOn sépare chaque carte avec une ligne vide.\n\n**Règle 2**\nSi vous voulez associer deux éléments, écrivez le premier élément sur une ligne, puis allez à la ligne pour écrire le deuxième élément : utilisez la syntaxe Markdown pour écrire votre texte ou insérer une image.\n\n**Règle 3**\nSi une seule ligne est présente, au lieu d'associer deux éléments différents, la carte sera répétée deux fois et il s'agira alors de retrouver la carte identique.\n\n**Règle 4**\nPour insérer une image, utilisez la syntaxe Markdown classique \\`![](URL_de_l_image)\\`\n\n**Règle 5**\nPour insérer un fichier audio, utilisez la syntaxe suivante : \\`audio: URL_DU_FICHIER_AUDIO\\`\n\n\n`;\n\t\teditorWrapper.appendChild(editor);\n\t\tconst closeEditorButton = document.createElement(\"button\");\n\t\tcloseEditorButton.className = \"close-editor-button\";\n\t\tcloseEditorButton.title = \"Fermer l'éditeur Markdown\";\n\t\tcloseEditorButton.innerHTML = \"Fermer l'éditeur\";\n\t\tcloseEditorButton.addEventListener(\"click\", () => {\n\t\t\tconst closeEditorConfirm = confirm(\n\t\t\t\t\"Voulez-vous vraiment fermer l'éditeur Markdown ?\\n\\nVos modifications seront perdues si vous n'avez pas copié le contenu de l'éditeur avant de fermer.\"\n\t\t\t);\n\t\t\tif (closeEditorConfirm) {\n\t\t\t\tdocument.body.classList.remove(\"editMode\");\n\t\t\t\tcloseEditorButton.style.display = \"none\";\n\t\t\t\teditorWrapper.style.display = \"none\";\n\t\t\t\tconst footer = document.querySelector(\"footer\");\n\t\t\t\tfooter.style.display = \"block\";\n\t\t\t\tfooter.style.top = \"25vh\";\n\t\t\t\tconst style = document.querySelector(\"style#cardsVisible\");\n\t\t\t\tjar.updateCode(defaultMD + rulesReminder);\n\t\t\t\tMemory.init(defaultMD);\n\t\t\t\tif (style) style.remove();\n\t\t\t}\n\t\t});\n\t\teditorWrapper.appendChild(closeEditorButton);\n\t\tconst footer = document.querySelector(\"footer\");\n\t\tfooter.style.top = \"50vh\";\n\t\tconst jar = CodeJar(editor, highlightCode, optionsCodeJar);\n\t\tconst editorElement = document.querySelector(\".editor\");\n\t\tlet md = editorElement.textContent;\n\t\tmd = md ? md : defaultMD + rulesReminder;\n\t\tjar.updateCode(md);\n\t\tMemory.init(md);\n\t\teventKeyUpDebounceUpdateCards();\n\t\t// Quand la souris est sur l'éditeur, on affiche le contenu des cartes\n\t\teditorWrapper.addEventListener(\"mouseover\", () => {\n\t\t\tdocument.body.classList.remove(\"mouseOutEditor\");\n\t\t\tif (document.body.classList.contains(\"editMode\")) {\n\t\t\t\tlet md = editorElement.textContent;\n\t\t\t\tmd = md ? md : defaultMD + rulesReminder;\n\t\t\t\tMemory.init(md);\n\t\t\t}\n\t\t\tif (document.querySelector(\"style#cardsVisible\")) return;\n\t\t\tmd = editorElement.textContent;\n\t\t\tconst style = document.createElement(\"style\");\n\t\t\tstyle.innerHTML = `\n\t\t\t\t.card .inside:not(.picked) .front {\n\t\t\t\t\tbackface-visibility: visible!important;\n    \t\t\t\ttransform: rotateX(0)!important;\n\t\t\t\t}\n\t\t\t\t.card .inside.picked .front {\n\t\t\t\t\tbackface-visibility: visible!important;\n\t\t\t\t\ttransform: rotateX(180)!important;\n\t\t\t\t}\n\t\t\t\t.card .back {\n\t\t\t\t\tdisplay:none!important;\n\t\t\t\t}\n\t\t\t`;\n\t\t\tstyle.setAttribute(\"id\", \"cardsVisible\");\n\t\t\tdocument.body.appendChild(style);\n\t\t});\n\t\t// Quand la souris sort de l'éditeur, on remet les cartes face cachée\n\t\teditorWrapper.addEventListener(\"mouseout\", () => {\n\t\t\tdocument.body.classList.add(\"mouseOutEditor\");\n\t\t\tif (document.body.classList.contains(\"editMode\")) {\n\t\t\t\tlet md = editorElement.textContent;\n\t\t\t\tmd = md ? md : defaultMD + rulesReminder;\n\t\t\t\tMemory.init(md);\n\t\t\t}\n\t\t\tconst style = document.querySelector(\"style#cardsVisible\");\n\t\t\tif (style) style.remove();\n\t\t});\n\t}, 100);\n}\n","import { getMarkdownFromURL, redirectToUrl } from \"./utils/url.mjs\";\nimport { marked } from \"./lib/marked.js\";\nimport { initMarkdownEditor } from \"./editor.mjs\";\n\nimport { Memory } from \"./gameLogic.mjs\";\n\n// Adaptation du Memory Game de Nate Wiley (License -- MIT / 2014)\n\nexport const backImage = \"assets/Blue_Question_Circle.svg\";\n\nexport const defaultMD = `Coucou !\nHi !\n\n![](assets/perso_educajou.svg)\n\n![](assets/brigit_et_komit.png)\nBrigit & Komit\n`;\n\nexport function addRedirectionToOnlineMarkdown(footerContentHTML) {\n\tconst htmlRedirection = `<label for=\"redirect\">Copiez ici le lien vers votre fichier, puis cliquer sur “OK” pour ouvrir votre Memory :</label>\n<input type=\"url\" id=\"redirect\" class=\"redirect-input\" placeholder=\"Votre URL\"> <button  class=\"redirect-button\" data-input-id=\"redirect\" >OK</button>`;\n\treturn footerContentHTML.replace(\"<!--INPUT_MARKDOWN-->\", htmlRedirection);\n}\n\nexport function addButtonToOpenEditor(footerContentHTML) {\n\tconst htmlButton =\n\t\t'<button class=\"openEditor\">Ouvrir l\\'éditeur en ligne</button>';\n\treturn footerContentHTML.replace(\"<!--BUTTON_OPEN_EDITOR-->\", htmlButton);\n}\n\nfunction addToFooter(footerContentHTML) {\n\tlet newFooterContentHTML = footerContentHTML;\n\tnewFooterContentHTML = addRedirectionToOnlineMarkdown(newFooterContentHTML);\n\tnewFooterContentHTML = addButtonToOpenEditor(newFooterContentHTML);\n\treturn newFooterContentHTML;\n}\n\nexport async function handleDefaultContent() {\n\tconst footer = document.createElement(\"footer\");\n\tconst footerContent = await getMarkdownFromURL(\"README.md\");\n\tconst footerContentHTML = marked.parse(footerContent);\n\t// On ajoute le champ de redirection vers un markdown en ligne\n\tfooter.innerHTML = addToFooter(footerContentHTML);\n\tconst observer = new MutationObserver(() => {\n\t\tconst button = document.querySelector(\"button.redirect-button\");\n\t\tconst input = document.querySelector(\"input.redirect-input\");\n\t\tif (button && input) {\n\t\t\tbutton.addEventListener(\"click\", () => redirectToUrl(input));\n\t\t\tinput.addEventListener(\"keydown\", (event) => {\n\t\t\t\tif (event.key === \"Enter\") {\n\t\t\t\t\tredirectToUrl(input);\n\t\t\t\t}\n\t\t\t});\n\t\t\tobserver.disconnect();\n\t\t}\n\t});\n\tobserver.observe(document.body, { childList: true, subtree: true });\n\tdocument.body.appendChild(footer);\n\tdocument.body.classList.add(\"default\");\n\tconst openEditorButton = document.querySelector(\"button.openEditor\");\n\topenEditorButton.addEventListener(\"click\", () => {\n\t\t// On teste si on est sur téléphone ou petit écran\n\t\tif (window.innerWidth < 600 || window.innerHeight < 500) {\n\t\t\talert(\n\t\t\t\t\"L'éditeur Markdown n'est pas disponible sur les petits écrans. Merci d'utiliser un ordinateur ou une tablette en mode paysage.\",\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tdocument.body.classList.toggle(\"editMode\");\n\t\tconst editorWrapper = document.querySelector(\".editor-wrapper\");\n\t\tif (editorWrapper === null) {\n\t\t\tinitMarkdownEditor();\n\t\t} else {\n\t\t\teditorWrapper.style.display = \"block\";\n\t\t\tconst closeEditorButton = document.querySelector(\".close-editor-button\");\n\t\t\tcloseEditorButton.style.display = \"block\";\n\t\t\tconst footer = document.querySelector(\"footer\");\n\t\t\tfooter.style.display = \"none\";\n\t\t\tfooter.style.top = \"25vh\";\n\t\t\tconst mdFromEditor = document.querySelector(\".editor\").textContent;\n\t\t\tMemory.init(mdFromEditor);\n\t\t}\n\t});\n}\n","import { defaultMD, handleDefaultContent } from \"./defaultContent.mjs\";\nimport { getMarkdownFromURL, getURLfromHash } from \"./utils/url.mjs\";\nimport { Memory } from \"./gameLogic.mjs\";\n\nexport async function createMemoryFromMarkdown() {\n\tconst isDefault = getURLfromHash() === \"\";\n\tlet md = \"\";\n\tif (isDefault) {\n\t\tmd = defaultMD;\n\t\tawait handleDefaultContent();\n\t} else {\n\t\tmd = (await getMarkdownFromURL(getURLfromHash())) || defaultMD;\n\t}\n\tMemory.init(md);\n}\n","import \"./style.css\";\nimport { createMemoryFromMarkdown } from \"./createMemoryFromMarkdown.mjs\";\n\ncreateMemoryFromMarkdown();\n"],"names":["getMarkdownFromURL","url","fetch","then","response","ok","Error","text","catch","error","console","getURLfromHash","addCorsProxy","includes","startsWith","replace","indexOf","endsWith","handleURL","window","location","hash","substring","redirectToUrl","input","baseURL","origin","value","trim","getAttribute","fullUrl","open","alert","L","async","breaks","extensions","gfm","hooks","pedantic","renderer","silent","tokenizer","walkTokens","O","G","l","E","exec","h","e","t","source","n","r","i","s","m","caret","getRegex","RegExp","codeRemoveIndent","outputLinkReplace","indentCodeCompensation","beginningSpace","endingHash","startingSpaceChar","endingSpaceChar","nonSpaceChar","newLineCharGlobal","tabCharGlobal","multipleSpaceGlobal","blankLine","doubleBlankLine","blockquoteStart","blockquoteSetextReplace","blockquoteSetextReplace2","listReplaceTabs","listReplaceNesting","listIsTask","listReplaceTask","anyLine","hrefBrackets","tableDelimiter","tableAlignChars","tableRowBlankLine","tableAlignRight","tableAlignCenter","tableAlignLeft","startATag","endATag","startPreScriptTag","endPreScriptTag","startAngleBracket","endAngleBracket","pedanticHrefTitle","unicodeAlphaNumeric","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","unescapeTest","percentDecode","findPipe","splitPipe","slashPipe","carriageReturn","spaceLine","notSpaceStart","endingNewline","listItemRegex","nextBulletRegex","Math","min","hrRegex","fencesBeginRegex","headingBeginRegex","htmlBeginRegex","C","j","se","ie","Te","F","Q","ye","Pe","v","U","Se","oe","K","blockquote","code","def","fences","heading","hr","html","lheading","list","newline","paragraph","table","re","_e","Le","ae","D","W","le","Ee","ue","pe","qe","ve","ce","De","He","Ze","Ge","Ne","je","Fe","q","Qe","he","de","X","_backpedal","anyPunctuation","autolink","blockSkip","br","del","emStrongLDelim","emStrongRDelimAst","emStrongRDelimUnd","escape","link","nolink","punctuation","reflink","reflinkSearch","tag","Ke","N","We","I","normal","M","Xe","ke","w","test","J","encodeURI","V","o","a","u","split","shift","length","at","pop","splice","push","z","charAt","slice","fe","href","title","other","state","inLink","type","raw","tokens","inlineTokens","y","options","rules","lexer","constructor","this","space","block","codeBlockStyle","match","map","join","Je","lang","inline","depth","p","c","f","top","blockTokens","k","x","g","T","ordered","start","loose","items","H","repeat","trimStart","search","ee","te","ne","me","A","Z","Y","task","checked","trimEnd","filter","some","pre","toLowerCase","header","align","rows","inRawBlock","ge","emStrong","lastIndex","index","codespan","inlineText","escaped","b","inlineQueue","links","Object","create","lex","lexInline","src","call","startBlock","forEach","charCodeAt","keys","lastIndexOf","emStrongMask","startInline","P","parser","parse","parseInline","listitem","checkbox","unshift","tablecell","tablerow","strong","em","image","textRenderer","$","R","renderers","S","static","Set","preprocess","postprocess","processAllTokens","provideLexer","provideParser","_","defaults","setOptions","parseMarkdown","Parser","Renderer","TextRenderer","Lexer","Tokenizer","Hooks","use","concat","childTokens","flat","name","apply","level","passThroughHooks","has","passThroughHooksRespectAsync","Promise","resolve","onError","prototype","toString","all","message","reject","d","getDefaults","marked","defaultSettings","alignVert","alignHoriz","multiLine","detectMultiLine","minFontSize","maxFontSize","reProcess","widthOnly","alignVertWithFlexbox","processItem","el","settings","HTMLElement","nodeType","nodeName","innerSpan","originalHeight","originalHTML","originalWidth","low","mid","high","setAttribute","innerHTML","style","getComputedStyle","getBoundingClientRect","width","parseInt","getPropertyValue","innerWidth","height","innerHeight","outerHTML","document","createElement","className","appendChild","hasClass","querySelector","size","fontSize","innerSpanBoundingClientRect","getElementById","css","id","body","addStyleSheet","scrollHeight","element","cls","sound","Memory","init","md","memoryInfo","titleMatch","blockquoteMatch","contentStartIndex","max","startIndex","startLine","cardsContent","cards","card","cardSubCards","content","h1","textContent","insertBefore","remove","div","insertAdjacentElement","game","modal","overlay","restartButton","cardsArray","counts","reduce","acc","uniques","duplicateUniqueCards","shuffleCards","setup","classList","contains","shuffle","buildHTML","memoryCards","querySelectorAll","paused","guess","binding","resize","frontCards","frontCard","els","key","hasOwnProperty","toArray","elType","textFit","multiline","self","addEventListener","cardClicked","reset","$card","insideElement","audio","pause","currentTime","Audio","play","add","setTimeout","pickedCard","win","showModal","display","hideModal","array","temp","counter","floor","random","frag","cardContent","backImage","globalWindow","CodeJar","editor","highlight","opt","tab","indentOn","moveToNewLine","spellcheck","catchTab","preserveIdent","addClosing","history","listeners","prev","focus","onUpdate","outline","overflowWrap","overflowY","whiteSpace","doHighlight","pos","matchFirefoxVersion","navigator","userAgent","firefoxVersion","isLegacy","contentEditable","debounceHighlight","debounce","save","restore","recording","shouldRecord","event","isUndo","isRedo","debounceRecordHistory","recordHistory","on","fn","getSelection","end","dir","undefined","anchorNode","anchorOffset","focusNode","focusOffset","Node","ELEMENT_NODE","node","createTextNode","childNodes","visit","TEXT_NODE","nodeValue","normalize","startNode","endNode","startOffset","endOffset","current","len","startEl","uneditable","parentNode","endEl","setBaseAndExtent","beforeCursor","r0","getRangeAt","createRange","selectNodeContents","setEnd","startContainer","afterCursor","setStart","endContainer","legacyNewLineFix","preventDefault","stopPropagation","insert","lastRecord","visitor","queue","firstChild","nextSibling","isCtrl","metaKey","ctrlKey","shiftKey","getKeyCode","keyCode","which","String","fromCharCode","toUpperCase","execCommand","cb","wait","timeout","args","clearTimeout","findPadding","getRootNode","defaultPrevented","before","after","padding","newLinePadding","handleNewLine","handleTabCharacters","close","wrapText","handleSelfClosingCharacters","record","handleUndoRedo","isCopy","isComposing","_event","originalEvent","clipboardData","getData","handlePaste","selection","setData","handleCut","updateOptions","newOptions","assign","updateCode","callOnUpdate","callback","destroy","removeEventListener","eventKeyUpDebounceUpdateCards","editorElement","debouncedUpdateCards","func","updateCards","highlightCode","p1","p2","replaceAll","optionsCodeJar","spellCheck","defaultMD","handleDefaultContent","footer","footerContent","footerContentHTML","newFooterContentHTML","addRedirectionToOnlineMarkdown","addButtonToOpenEditor","addToFooter","observer","MutationObserver","button","disconnect","observe","childList","subtree","toggle","editorWrapper","rulesReminder","closeEditorButton","confirm","jar","initMarkdownEditor","mdFromEditor","createMemoryFromMarkdown"],"mappings":"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"}